{"version":3,"file":"base-login-provider.js","sourceRoot":"","sources":["../../../lib/src/entities/base-login-provider.ts"],"names":[],"mappings":";;;;AAEA,OAAO,EAAc,eAAe,EAAE,MAAM,MAAM,CAAC;;;;AAEnD,MAAM;IAIJ;2BAFkD,IAAI,eAAe,CAAC,KAAK,CAAC;KAE5D;;;;IAEN,OAAO;QACf,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,EAAE;gBACrC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACZ,OAAO,EAAE,CAAC;iBACX;aACF,CAAC,CAAA;SACH,CAAC,CAAC;KACJ;;;;;;;;;IAOD,UAAU,CAAC,EAAU,EAAE,GAAW,EAAE,MAAW,EAAE,KAAK,GAAG,IAAI,EAAE,kBAAkB,GAAG,EAAE;QAClF,EAAE,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC;SAAE;QAE5C,qBAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACvB,QAAQ,CAAC,GAAG,GAAG,GAAG,CAAC;QACnB,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;QACzB,QAAQ,CAAC,IAAI,GAAG,kBAAkB,CAAC;QACnC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;KACvC;CACF","sourcesContent":["import { LoginProvider } from './login-provider';\r\nimport { SocialUser } from './user';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\n\r\nexport abstract class BaseLoginProvider implements LoginProvider {\r\n\r\n  protected _readyState: BehaviorSubject<boolean> = new BehaviorSubject(false);\r\n\r\n  constructor() {}\r\n\r\n  protected onReady(): Promise<void> {\r\n    return new Promise((resolve, reject) => {\r\n      this._readyState.subscribe((isReady) => {\r\n        if (isReady) {\r\n          resolve();\r\n        }\r\n      })\r\n    });\r\n  }\r\n\r\n  abstract initialize(): Promise<void>;\r\n  abstract getLoginStatus(): Promise<SocialUser>;\r\n  abstract signIn(): Promise<SocialUser>;\r\n  abstract signOut(): Promise<any>;\r\n\r\n  loadScript(id: string, src: string, onload: any, async = true, inner_text_content = ''): void {\r\n      if (document.getElementById(id)) { return; }\r\n\r\n      let signInJS = document.createElement('script');\r\n      signInJS.async = async;\r\n      signInJS.src = src;\r\n      signInJS.onload = onload;\r\n      signInJS.text = inner_text_content; // LinkedIn\r\n      document.head.appendChild(signInJS);\r\n  }\r\n}\r\n"]}