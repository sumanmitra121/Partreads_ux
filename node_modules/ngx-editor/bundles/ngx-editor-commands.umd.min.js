!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("prosemirror-state"),require("ngx-editor/helpers")):"function"==typeof define&&define.amd?define("ngx-editor/commands",["exports","prosemirror-state","ngx-editor/helpers"],r):r(((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-editor"]=e["ngx-editor"]||{},e["ngx-editor"].commands={}),e.prosemirrorState,e["ngx-editor"].helpers)}(this,(function(e,r,t){"use strict";Object.create;function o(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],o=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;e.applyMark=function(e,o){return void 0===o&&(o={}),function(n,i){var a=n.tr,l=n.selection,s=l.empty,d=l.ranges,f=l.$from,c=l.$to;if(s&&l instanceof r.TextSelection){if(!l.$cursor||!t.markApplies(n.doc,d,e))return!1;if(a.addStoredMark(e.create(o)),!a.storedMarksSet)return!1;null==i||i(a)}else{if(a.addMark(f.pos,c.pos,e.create(o)),!a.docChanged)return!1;null==i||i(a.scrollIntoView())}return!0}},e.removeLink=function(){return function(e,r){var t=e.doc,o=e.selection,n=e.tr,i=o.$head.pos,a=o.from,l=o.to;if(a===l){var s=t.resolve(i),d=i-s.textOffset,f=d+s.parent.child(s.index()).nodeSize;n.removeMark(d,f)}else n.removeMark(a,l);return!!n.docChanged&&(null==r||r(n),!0)}},e.removeMark=function(e){return function(n,i){var a,l,s=n.tr,d=n.selection,f=n.storedMarks,c=n.doc,u=d.empty,p=d.ranges;if(u&&d instanceof r.TextSelection){var m=d.$cursor;if(!m||!t.markApplies(n.doc,p,e))return!1;if(e.isInSet(f||m.marks()))return s.removeStoredMark(e),null==i||i(s),!0}else{try{for(var v=o(p),y=v.next();!y.done;y=v.next()){var g=y.value,x=g.$from,h=g.$to;c.rangeHasMark(x.pos,h.pos,e)&&s.removeMark(x.pos,h.pos,e)}}catch(e){a={error:e}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}if(!s.docChanged)return!1;null==i||i(s.scrollIntoView())}return!1}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-editor-commands.umd.min.js.map