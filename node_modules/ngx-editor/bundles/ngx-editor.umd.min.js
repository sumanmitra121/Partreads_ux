!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("prosemirror-state"),require("prosemirror-view"),require("prosemirror-model"),require("ngx-editor/schema"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser"),require("@angular/common"),require("prosemirror-commands"),require("ngx-editor/commands"),require("ngx-editor/helpers"),require("prosemirror-schema-list"),require("ngx-editor/utils"),require("prosemirror-keymap"),require("prosemirror-history"),require("prosemirror-inputrules")):"function"==typeof define&&define.amd?define("ngx-editor",["exports","@angular/core","@angular/forms","prosemirror-state","prosemirror-view","prosemirror-model","ngx-editor/schema","rxjs","rxjs/operators","@angular/platform-browser","@angular/common","prosemirror-commands","ngx-editor/commands","ngx-editor/helpers","prosemirror-schema-list","ngx-editor/utils","prosemirror-keymap","prosemirror-history","prosemirror-inputrules"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-editor"]={},t.ng.core,t.ng.forms,t.prosemirrorState,t.prosemirrorView,t.prosemirrorModel,t["ngx-editor"].schema,t.rxjs,t.rxjs.operators,t.ng.platformBrowser,t.ng.common,t.prosemirrorCommands,t["ngx-editor"].commands,t["ngx-editor"].helpers,t.prosemirroSchemaList,t["ngx-editor"].utils,t.prosemirrorKeymap,t.prosemirrorHistory,t.prosemirrorInputRules)}(this,(function(t,e,n,o,r,i,s,a,u,c,p,l,d,h,g,f,m,v,b){"use strict";var x=function(t){return void 0===t&&(t=!0),new o.Plugin({key:new o.PluginKey("editable"),state:{init:function(){return t},apply:function(t,e){var n;return null!==(n=t.getMeta("UPDATE_EDITABLE"))&&void 0!==n?n:e}},props:{editable:function(t){return this.getState(t)},attributes:function(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}})},y=function(t){return new o.Plugin({key:new o.PluginKey("placeholder"),state:{init:function(){return null!=t?t:""},apply:function(t,e){var n;return null!==(n=t.getMeta("UPDATE_PLACEHOLDER"))&&void 0!==n?n:e}},props:{decorations:function(t){var e=t.doc,n=e.textContent,o=e.childCount,i=this.getState(t);if(!i||o>1)return r.DecorationSet.empty;var s=[];return e.descendants((function(t,e){var o;if(t.type.isBlock&&0===t.childCount&&0===n.length){var a=r.Decoration.node(e,e+t.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":i,"data-align":null!==(o=t.attrs.align)&&void 0!==o?o:null});s.push(a)}return!1})),r.DecorationSet.create(e,s)}}})},_=function(t){return void 0===t&&(t={}),new o.Plugin({key:new o.PluginKey("attributes"),props:{attributes:t}})},w=function(t){return new o.Plugin({key:new o.PluginKey("focus"),props:{handleDOMEvents:{focus:function(){return t(),!1}}}})},E=function(t){return new o.Plugin({key:new o.PluginKey("blur"),props:{handleDOMEvents:{blur:function(){return t(),!1}}}})},N=function(){function t(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new e.EventEmitter}return t.prototype.startResizing=function(t,e){t.preventDefault(),this.resizeImage(t,e)},t.prototype.resizeImage=function(t,e){var n=this,o=t.pageX,r=this.imgEl.nativeElement.clientWidth,i="left"===e,s=window.getComputedStyle(this.view.dom).width,a=parseInt(s,10),u=function(t){var e=t.pageX-o,s=i?r-e:r+e;s>a||s<20||(n.outerWidth=s+"px")},c=function(t){t.preventDefault(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c),n.imageResize.emit()};document.addEventListener("mousemove",u),document.addEventListener("mouseup",c)},t}();N.decorators=[{type:e.Component,args:[{selector:"ngx-image-view",template:'<span class="NgxEditor__ImageWrapper" [ngClass]="{\'NgxEditor__Resizer--Active\': selected}" [style.width]="outerWidth">\n  <span class="NgxEditor__ResizeHandle" *ngIf="selected">\n    <span class="NgxEditor__ResizeHandle--TL"  (mousedown)="startResizing($event, \'left\')"></span>\n    <span class="NgxEditor__ResizeHandle--TR" (mousedown)="startResizing($event, \'right\')"></span>\n    <span class="NgxEditor__ResizeHandle--BL" (mousedown)="startResizing($event, \'left\')"></span>\n    <span class="NgxEditor__ResizeHandle--BR" (mousedown)="startResizing($event, \'right\')"></span>\n  </span>\n  <img [src]="src" [alt]="alt" [title]="title" #imgEl />\n</span>\n',styles:["*,:after,:before{box-sizing:border-box}img{width:100%;height:100%}.NgxEditor__ImageWrapper{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid #fff}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL{bottom:-5px;left:-5px;cursor:sw-resize}"]}]}],N.propDecorators={src:[{type:e.Input}],alt:[{type:e.Input}],title:[{type:e.Input}],outerWidth:[{type:e.Input}],selected:[{type:e.Input}],view:[{type:e.Input}],imageResize:[{type:e.Output}],imgEl:[{type:e.ViewChild,args:["imgEl",{static:!0}]}]};var I=function(){function t(t,n,r,i){var s=this;this.updating=!1,this.handleResize=function(){if(!s.updating){var t=s.view,e=t.state,n=t.dispatch,r=e.tr.setNodeMarkup(s.getPos(),void 0,{src:s.imageComponentRef.instance.src,width:s.imageComponentRef.instance.outerWidth}),i=r.doc.resolve(s.getPos()),a=new o.NodeSelection(i);r.setSelection(a),n(r)}};var a=document.createElement("image-view"),u=i.get(e.ComponentFactoryResolver);this.applicationRef=i.get(e.ApplicationRef);var c=u.resolveComponentFactory(N);this.imageComponentRef=c.create(i,[],a),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=n,this.dom=a,this.view=n,this.node=t,this.getPos=r,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe((function(){s.handleResize()}))}return t.prototype.computeChanges=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t.prototype.setNodeAttributes=function(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width},t.prototype.update=function(t){return t.type===this.node.type&&(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)},t.prototype.ignoreMutation=function(){return!0},t.prototype.selectNode=function(){this.imageComponentRef.instance.selected=!0},t.prototype.deselectNode=function(){this.imageComponentRef.instance.selected=!1},t.prototype.destroy=function(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)},t}(),C=function(t){return new o.Plugin({key:new o.PluginKey("link"),props:{nodeViews:{image:function(e,n,o){return new I(e,n,o,t)}}}})},k=/((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)$/,M=function(t){var e=[];return t.forEach((function(t){if(t.isText){var n=t.text,o=0,r=k.exec(n);if(r){var i=r.index,s=i+r[0].length,a=t.type.schema.marks.link;i>0&&e.push(t.cut(o,i));var u=n.slice(i,s);e.push(t.cut(i,s).mark(a.create({href:u}).addToSet(t.marks))),o=s}o<n.length&&e.push(t.cut(o))}else e.push(t.copy(M(t.content)))})),i.Fragment.fromArray(e)},P=function(){return new o.Plugin({key:new o.PluginKey("link"),props:{transformPasted:function(t){return new i.Slice(M(t.content),t.openStart,t.openEnd)}}})},z={type:"doc",content:[{type:"paragraph"}]},D=function(t,e){var n=null!=e?e:s.schema,o=n.nodeFromJSON(t),r=i.DOMSerializer.fromSchema(n).serializeFragment(o.content),a=document.createElement("div");return a.appendChild(r),a.innerHTML},H=function(t,e){var n=null!=e?e:s.schema,o=document.createElement("div");return o.innerHTML=t,i.DOMParser.fromSchema(n).parse(o).toJSON()},S=function(t,e){if(!t)return e.nodeFromJSON(z);if("string"!=typeof t)return e.nodeFromJSON(t);var n=H(t,e);return e.nodeFromJSON(n)},R=function(){function t(t,n,o){this._renderer=t,this._injector=n,this._elementRef=o,this.placeholder="Type Here...",this.focusOut=new e.EventEmitter,this.focusIn=new e.EventEmitter,this.subscriptions=[],this.onChange=function(){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.outputFormat||"string"!=typeof t||(this.outputFormat="html"),this.editor.setContent(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.setMeta("UPDATE_EDITABLE",!t),this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype.handleChange=function(t){if("html"!==this.outputFormat)this.onChange(t);else{var e=D(t,this.editor.schema);this.onChange(e)}},t.prototype.setMeta=function(t,e){var n=this.editor.view;(0,n.dispatch)(n.state.tr.setMeta(t,e))},t.prototype.setPlaceholder=function(t){this.setMeta("UPDATE_PLACEHOLDER",t)},t.prototype.registerPlugins=function(){var t=this;this.editor.registerPlugin(x()),this.editor.registerPlugin(y(this.placeholder)),this.editor.registerPlugin(_({class:"NgxEditor__Content"})),this.editor.registerPlugin(w((function(){t.focusIn.emit()}))),this.editor.registerPlugin(w((function(){t.focusIn.emit()}))),this.editor.registerPlugin(E((function(){t.focusOut.emit(),t.onTouched()}))),this.editor.registerPlugin(C(this._injector)),this.editor.registerPlugin(P())},t.prototype.ngOnInit=function(){var t=this;if(!this.editor)throw new Error("NgxEditor: Required editor instance");this.registerPlugins(),this._renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom);var e=this.editor.valueChanges.subscribe((function(e){t.handleChange(e)}));this.subscriptions.push(e)},t.prototype.ngOnChanges=function(t){(null==t?void 0:t.placeholder)&&!t.placeholder.isFirstChange()&&this.setPlaceholder(t.placeholder.currentValue)},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){t.unsubscribe()}))},t}();R.decorators=[{type:e.Component,args:[{selector:"ngx-editor",template:'<div class="NgxEditor" #ngxEditor>\n  <ng-content></ng-content>\n</div>\n',providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return R})),multi:!0}],encapsulation:e.ViewEncapsulation.None,styles:['.NgxEditor{background:#fff;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:.5rem;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 .7rem}.NgxEditor__Content blockquote{padding-left:1rem;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;padding:.2rem;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:1.85rem;width:1.85rem;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 .3rem}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active{background-color:#e8f0fe}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active.NgxEditor__MenuItem--Text{color:#1a73e8}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active svg{fill:#1a73e8}.NgxEditor__Dropdown{min-width:4rem;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 .3rem;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:1.5rem;vertical-align:.25rem;border-top:.25rem solid;border-right:.25rem solid transparent;border-bottom:0;border-left:.25rem solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:0 2px 6px 2px rgba(60,64,67,.15);border-radius:4px;background-color:#fff;z-index:10;width:100%;top:calc(1.85rem + 2px)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:.5rem;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown.NgxEditor__Dropdown--Open,.NgxEditor__Dropdown.NgxEditor__Dropdown--Selected{background-color:#e8f0fe}.NgxEditor__Dropdown.NgxEditor__Dropdown--Open .NgxEditor__Dropdown--Text,.NgxEditor__Dropdown.NgxEditor__Dropdown--Selected .NgxEditor__Dropdown--Text{color:#1a73e8}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(1.85rem + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(1.85rem + 2px)}.NgxEditor__Popup{position:absolute;top:calc(1.85rem + 2px);box-shadow:0 2px 6px 2px rgba(60,64,67,.15);border-radius:4px;background-color:#fff;z-index:10;min-width:12rem;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 .3rem}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}']}]}],R.ctorParameters=function(){return[{type:e.Renderer2},{type:e.Injector},{type:e.ElementRef}]},R.propDecorators={ngxEditor:[{type:e.ViewChild,args:["ngxEditor",{static:!0}]}],editor:[{type:e.Input}],outputFormat:[{type:e.Input}],placeholder:[{type:e.Input}],focusOut:[{type:e.Output}],focusIn:[{type:e.Output}]};var L=function(){function t(){this.customMenuRefChange=new a.Subject}return t.prototype.setCustomMenuRef=function(t){this.customMenuRefChange.next(t)},t}();L.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new L},token:L,providedIn:"root"}),L.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var T=[["bold","italic"],["code","blockquote"],["underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],O=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],A=function(){function t(t){this.menuService=t,this.toolbar=T,this.colorPresets=O,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}return Object.defineProperty(t.prototype,"presets",{get:function(){var t=[];return this.colorPresets.forEach((function(e,n){var o=Math.floor(n/8);t[o]||t.push([]),t[o].push(e)})),t},enumerable:!1,configurable:!0}),t.prototype.isDropDown=function(t){var e;return!!(null===(e=t)||void 0===e?void 0:e.heading)},t.prototype.getDropdownItems=function(t){return t},t.prototype.ngOnInit=function(){if(!this.editor)throw new Error("NgxEditor: Required editor instance");this.menuService.editor=this.editor},t}();A.decorators=[{type:e.Component,args:[{selector:"ngx-editor-menu",template:'<div class="NgxEditor__MenuBar" [ngClass]="{\'NgxEditor--Disabled\': disabled, \'NgxEditor__MenuBar--Reverse\': dropdownPlacement === \'top\'}">\n\n  <ng-container *ngFor="let toolbarItem of toolbar; let lastToolbarItem = last">\n    <ng-container *ngFor="let item of toolbarItem; let lastItem = last">\n\n      \x3c!-- toggle icons --\x3e\n      <ngx-toggle-command [toolbarItem]="item" [class]="iconContainerClass" *ngIf="toggleCommands.includes(item)">\n      </ngx-toggle-command>\n\n      \x3c!-- link --\x3e\n      <ngx-link [class]="iconContainerClass" *ngIf="item === \'link\'"></ngx-link>\n\n      \x3c!-- image --\x3e\n      <ngx-image [class]="iconContainerClass" *ngIf="item === \'image\'">\n      </ngx-image>\n\n      \x3c!-- dropdown --\x3e\n      <ng-container *ngIf="isDropDown(item)">\n        <ngx-dropdown *ngFor="let dropdownItem of getDropdownItems(item) | keyvalue" [class]="dropdownContainerClass"\n          [group]="dropdownItem.key" [items]="dropdownItem.value">\n        </ngx-dropdown>\n      </ng-container>\n\n      \x3c!-- text color picker --\x3e\n      <ngx-color-picker [class]="iconContainerClass" *ngIf="item === \'text_color\'" type="text_color"\n        [presets]="presets">\n      </ngx-color-picker>\n      \x3c!-- background color picker --\x3e\n      <ngx-color-picker [class]="iconContainerClass" *ngIf="item === \'background_color\'" type="background_color"\n        [presets]="presets">\n      </ngx-color-picker>\n\n      \x3c!-- seperator --\x3e\n      <div [class]="seperatorClass" *ngIf="lastItem && !lastToolbarItem"></div>\n    </ng-container>\n  </ng-container>\n\n  \x3c!-- custom menu --\x3e\n  <ng-container *ngIf="customMenuRef">\n    <ng-container [ngTemplateOutlet]="customMenuRef"></ng-container>\n  </ng-container>\n\n</div>\n',providers:[L],styles:[""]}]}],A.ctorParameters=function(){return[{type:L}]},A.propDecorators={toolbar:[{type:e.Input}],colorPresets:[{type:e.Input}],disabled:[{type:e.Input}],editor:[{type:e.Input}],customMenuRef:[{type:e.Input}],dropdownPlacement:[{type:e.Input}]};var j={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n'},V=function(){function t(){}return t.get=function(t,e){return void 0===e&&(e="#000"),'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 24 24"\n        fill='+e+"\n        height=20\n        width=20\n      >\n        "+(j[t]||"<path></path>")+"\n      </svg>\n    "},t.getPath=function(t){return j[t]||"<path></path>"},t}(),B=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t){return this.sanitizer.bypassSecurityTrustHtml(t)},t}();B.decorators=[{type:e.Pipe,args:[{name:"sanitizeHtml"}]}],B.ctorParameters=function(){return[{type:c.DomSanitizer}]};var F=function(){function t(t,e){this.el=t,this.sanitizeHTML=e,this.posLeft=0,this.posTop=0,this.showMenu=!1,this.dragging=!1,this.execulableItems=[],this.activeItems=[]}return Object.defineProperty(t.prototype,"display",{get:function(){return{visibility:this.showMenu?"visible":"hidden",opacity:this.showMenu?"1":"0",top:this.posTop+"px",left:this.posLeft+"px"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.editor.view},enumerable:!1,configurable:!0}),t.prototype.onMouseDown=function(t){this.el.nativeElement.contains(t.target)?t.preventDefault():this.dragging=!0},t.prototype.onKeyDown=function(){this.dragging=!0,this.hide()},t.prototype.onMouseUp=function(){this.dragging=!1,this.useUpdate()},t.prototype.onKeyUp=function(){this.dragging=!1,this.useUpdate()},t.prototype.useUpdate=function(){this.view&&this.update(this.view)},t.prototype.getIcon=function(t){var e=V.getPath(t);return this.sanitizeHTML.transform(e)},t.prototype.hide=function(){this.showMenu=!1},t.prototype.show=function(){this.showMenu=!0},t.prototype.calculateBubblePosition=function(t){var e=t.state.selection.from,n=this.el.nativeElement,o=n.getBoundingClientRect(),r=n.parentElement.getBoundingClientRect(),i=t.coordsAtPos(e),s=i.left-r.left;(r.right<i.left+o.width||o.right>r.right)&&(s=r.width-o.width),s<0&&(s=0);var a=o.height+parseInt(getComputedStyle(n).marginBottom,10);return{left:s,top:i.top-r.top-a}},t.prototype.update=function(t){var e=t.state.selection,n=e.empty;if(e instanceof o.NodeSelection&&"image"===e.node.type.name)this.hide();else if(!this.view.hasFocus()||n||this.dragging)this.hide();else{var r=this.calculateBubblePosition(this.view),i=r.top,s=r.left;this.posLeft=s,this.posTop=i,this.show()}},t.prototype.ngOnInit=function(){var t=this;if(!this.editor)throw new Error("NgxEditor: Required editor instance");this.updateSubscription=this.editor.update.subscribe((function(e){t.update(e)})),this.resizeSubscription=a.fromEvent(window,"resize").pipe(u.throttleTime(500,a.asyncScheduler,{leading:!0,trailing:!0})).subscribe((function(){t.useUpdate()}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe(),this.resizeSubscription.unsubscribe()},t}();F.decorators=[{type:e.Component,args:[{selector:"ngx-editor-floating-menu",template:'<div #ref>\n  <ng-content></ng-content>\n</div>\n<ng-container *ngIf="ref.children.length === 0">\n  <ngx-bubble [editor]="editor"></ngx-bubble>\n</ng-container>\n',styles:["*,:after,:before{box-sizing:border-box}:host{position:absolute;z-index:20;margin-bottom:.35rem;visibility:hidden;opacity:0}"]}]}],F.ctorParameters=function(){return[{type:e.ElementRef},{type:B}]},F.propDecorators={display:[{type:e.HostBinding,args:["style"]}],editor:[{type:e.Input}],onMouseDown:[{type:e.HostListener,args:["document:mousedown",["$event"]]}],onKeyDown:[{type:e.HostListener,args:["document:keydown"]}],onMouseUp:[{type:e.HostListener,args:["document:mouseup"]}],onKeyUp:[{type:e.HostListener,args:["document:keyup"]}]};var q={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"},$=function(t){var e=this;void 0===t&&(t={}),this.locals=q,this.get=function(t){var n;return null!==(n=e.locals[t])&&void 0!==n?n:""},this.locals=Object.assign({},q,t)},W=function(){this.locals={}};W.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new W},token:W,providedIn:"root"}),W.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var G=function(){function t(t){this.config=t}return Object.defineProperty(t.prototype,"locals",{get:function(){return new $(this.config.locals)},enumerable:!1,configurable:!0}),t}();G.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new G(e.ɵɵinject(W,8))},token:G,providedIn:"root"}),G.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],G.ctorParameters=function(){return[{type:W,decorators:[{type:e.Optional}]}]};var U=function(t){var e;return{locals:null!==(e=t.locals)&&void 0!==e?e:{}}},K=function(){function t(t){this.name=t}return t.prototype.apply=function(){var t=this;return function(e,n){var o=e.schema.marks[t.name];return!!o&&d.applyMark(o)(e,n)}},t.prototype.toggle=function(){var t=this;return function(e,n){var o=e.schema.marks[t.name];return!!o&&l.toggleMark(o)(e,n)}},t.prototype.isActive=function(t){var e=t.schema.marks[this.name];return!!e&&h.isMarkActive(t,e)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),J=function(){function t(){}return t.prototype.toggle=function(){var t=this;return function(e,n){var o=e.schema.nodes.blockquote;return!!o&&(t.isActive(e)?l.lift(e,n):l.wrapIn(o)(e,n))}},t.prototype.isActive=function(t){var e=t.schema.nodes.blockquote;return!!e&&h.isNodeActive(t,e)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),X=function(){function t(t){void 0===t&&(t=!1),this.isBulletList=!1,this.isBulletList=t}return t.prototype.getType=function(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list},t.prototype.toggle=function(){var t=this;return function(e,n){var o=e.schema,r=t.getType(o);return!!r&&(t.isActive(e)?g.liftListItem(o.nodes.list_item)(e,n):g.wrapInList(r)(e,n))}},t.prototype.isActive=function(t){var e=t.schema,n=this.getType(e);return!!n&&h.isNodeActive(t,n)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),Q=function(){function t(t){this.level=t}return t.prototype.apply=function(){return function(t,e){var n=t.schema.nodes.heading;return!!n&&l.setBlockType(n)(t,e)}},t.prototype.toggle=function(){var t=this;return function(e,n){var o,r=e.schema,i=e.selection,s=e.doc,a=r.nodes.heading;if(!a)return!1;var u=i.$from.before(1),c=s.nodeAt(u),p=null!==(o=null==c?void 0:c.attrs)&&void 0!==o?o:{};return t.isActive(e)?l.setBlockType(r.nodes.paragraph,p)(e,n):l.setBlockType(a,Object.assign(Object.assign({},p),{level:t.level}))(e,n)}},t.prototype.isActive=function(t){var e=this,n=t.schema,o=h.getSelectionNodes(t),r=n.nodes.heading;if(!r)return!1;var i=[r,n.nodes.text,n.nodes.blockquote],s=o.filter((function(t){return i.includes(t.type)})).find((function(t){return t.attrs.level===e.level}));return Boolean(s)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),Y=function(){function t(t){this.align=t}return t.prototype.toggle=function(){var t=this;return function(e,n){var o=e.doc,r=e.selection,i=e.tr,s=e.schema,a=r.from,u=r.to,c=!1;return o.nodesBetween(a,u,(function(e,n){var o=e.type;return[s.nodes.paragraph,s.nodes.heading].includes(o)&&(c=!0,i.setNodeMarkup(n,o,Object.assign(Object.assign({},e.attrs),{align:t.align}))),!0})),!!c&&(i.docChanged&&(null==n||n(i)),!0)}},t.prototype.isActive=function(t){var e=this,n=h.getSelectionNodes(t).find((function(t){return t.attrs.align===e.align}));return Boolean(n)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),Z={strict:!0},tt=function(){function t(){}return t.prototype.update=function(t){return void 0===t&&(t={}),function(e,n){var o=e.schema,r=e.selection,i=o.marks.link;return!!i&&(!r.empty&&l.toggleMark(i,t)(e,n))}},t.prototype.insert=function(t,e){return function(n,o){var r,i,s=n.schema,a=n.tr;if(!s.marks.link)return!1;var u={href:e.href,title:null!==(r=e.title)&&void 0!==r?r:t,target:null!==(i=e.target)&&void 0!==i?i:"_blank"},c=s.text(t,[s.marks.link.create(u)]);return a.replaceSelectionWith(c,!1).scrollIntoView(),!!a.docChanged&&(null==o||o(a),!0)}},t.prototype.isActive=function(t,e){if(void 0===e&&(e=Z),e.strict)return!0;var n=t.schema.marks.link;return!!n&&h.isMarkActive(t,n)},t.prototype.remove=function(t,e){return d.removeLink()(t,e)},t.prototype.canExecute=function(t){return this.update({})(t)},t}(),et=function(){function t(){}return t.prototype.insert=function(t,e){return function(n,r){var i=n.schema,s=n.tr,a=n.selection,u=i.nodes.image;if(!u)return!1;var c=Object.assign({width:null,src:t},e);!c.width&&a instanceof o.NodeSelection&&a.node.type===u&&(c.width=a.node.attrs.width),s.replaceSelectionWith(u.createAndFill(c));var p=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new o.NodeSelection(p)).scrollIntoView(),!!s.docChanged&&(null==r||r(s),!0)}},t.prototype.isActive=function(t){var e=t.selection;return e instanceof o.NodeSelection&&"image"===e.node.type.name},t}(),nt=function(){function t(t){this.name=t}return t.prototype.apply=function(t){var e=this;return function(n,o){var r=n.schema,i=n.selection,s=n.doc,a=r.marks[e.name];if(!a)return!1;var u=i.from,c=i.to;if(!i.empty&&u+1===c){var p=s.nodeAt(u);if((null==p?void 0:p.isAtom)&&!p.isText&&p.isLeaf)return!1}return d.applyMark(a,t)(n,o)}},t.prototype.isActive=function(t){var e=t.schema.marks[this.name];return!!e&&h.isMarkActive(t,e)},t.prototype.getActiveColors=function(t){var e=this;if(!this.isActive(t))return[];var n=t.schema;return h.getSelectionMarks(t).filter((function(t){return t.type===n.marks[e.name]})).map((function(t){return t.attrs.color})).filter(Boolean)},t.prototype.remove=function(){var t=this;return function(e,n){var o=e.schema.marks[t.name];return!!o&&d.removeMark(o)(e,n)}},t.prototype.canExecute=function(t){var e="text_color"===this.name?{color:""}:{backgroundColor:""};return this.apply(e)(t)},t}(),ot=new K("strong"),rt=new K("em"),it=new K("code"),st=new K("u"),at=new K("s"),ut=new J,ct=new X(!0),pt=new X(!1),lt=new Q(1),dt=new Q(2),ht=new Q(3),gt=new Q(4),ft=new Q(5),mt=new Q(6),vt=new Y("left"),bt=new Y("center"),xt=new Y("right"),yt=new Y("justify"),_t=new tt,wt=new et,Et=new nt("text_color"),Nt=new nt("text_background_color"),It={bold:ot,italic:rt,code:it,underline:st,strike:at,blockquote:ut,bullet_list:ct,ordered_list:pt,h1:lt,h2:dt,h3:ht,h4:gt,h5:ft,h6:mt,align_left:vt,align_center:bt,align_right:xt,align_justify:yt},Ct=_t,kt=wt,Mt=Et,Pt=Nt,zt=function(){function t(t,e){var n=this;this.ngxeService=t,this.menuService=e,this.isActive=!1,this.disabled=!1,this.update=function(t){var e=t.state,o=It[n.name];n.isActive=o.isActive(e),n.disabled=!o.canExecute(e)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.toolbarItem},enumerable:!1,configurable:!0}),t.prototype.toggle=function(t){if(t.preventDefault(),0===t.button){var e=this.editorView,n=e.state,o=e.dispatch;It[this.name].toggle()(n,o)}},t.prototype.getTitle=function(t){return this.ngxeService.locals.get(t)},t.prototype.ngOnInit=function(){var t=this;this.html=V.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(e){t.update(e)}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},t}();zt.decorators=[{type:e.Component,args:[{selector:"ngx-toggle-command",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="html | sanitizeHtml" (mousedown)="toggle($event)"\n  [title]="getTitle(name)">\n</div>\n',styles:[""]}]}],zt.ctorParameters=function(){return[{type:G},{type:L}]},zt.propDecorators={toolbarItem:[{type:e.Input}],isActive:[{type:e.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:e.HostBinding,args:["class.NgxEditor--Disabled"]}]};var Dt=function(){function t(t,e,o){var r=this;this.el=t,this.ngxeService=e,this.menuService=o,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.form=new n.FormGroup({href:new n.FormControl("",[n.Validators.required,n.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),text:new n.FormControl("",[n.Validators.required]),openInNewTab:new n.FormControl(!0)}),this.setText=function(){var t=r.editorView.state,e=t.selection,n=t.doc,o=e.empty,i=e.from,s=e.to,a=o?"":n.textBetween(i,s);a&&(r.text.patchValue(a),r.text.disable())},this.update=function(t){var e=t.state;r.isActive=Ct.isActive(e,{strict:!1}),r.canExecute=Ct.canExecute(e)}}return Object.defineProperty(t.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return!this.canExecute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return V.get(this.isActive?"unlink":"link")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"href",{get:function(){return this.form.get("href")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.form.get("text")},enumerable:!1,configurable:!0}),t.prototype.onDocumentClick=function(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hideForm()},t.prototype.getLabel=function(t){return this.ngxeService.locals.get(t)},t.prototype.hideForm=function(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()},t.prototype.onMouseDown=function(t){if(t.preventDefault(),0===t.button){var e=this.editorView,n=e.state,o=e.dispatch;this.isActive?Ct.remove(n,o):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}},t.prototype.insertLink=function(t){t.preventDefault();var e=this.form.getRawValue(),n=e.text,o=e.href,r=e.openInNewTab,i=this.editorView,s=i.dispatch,a=i.state,u={title:o,href:o,target:r?"_blank":"_self"};a.selection.empty?(Ct.insert(n,u)(a,s),this.editorView.focus()):Ct.update(u)(a,s),this.hideForm()},t.prototype.ngOnInit=function(){var t=this;this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(e){t.update(e)}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},t}();Dt.decorators=[{type:e.Component,args:[{selector:"ngx-link",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="onMouseDown($event)">\n</div>\n\n\x3c!-- popup --\x3e\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <form class="NgxEditor__Popup--Form" [formGroup]="form" (ngSubmit)="insertLink($event)">\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'url\')}}</label>\n        <input type="href" id="href" formControlName="href" autofocus autocomplete="off" />\n        <div *ngIf="href.touched && href.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ href.errors?.pattern && \'Please enter valid url.\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'text\')}}</label>\n        <input type="text" formControlName="text" autocomplete="off" />\n        <div *ngIf="text.touched && text.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ text.errors?.required && \'This is required\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label>\n          <input type="checkbox" formControlName="openInNewTab" />\n          {{getLabel(\'openInNewTab\')}}\n        </label>\n      </div>\n    </div>\n\n    <button type="submit" [disabled]="!form.valid">{{getLabel(\'insert\')}}</button>\n\n  </form>\n</div>\n',styles:[""]}]}],Dt.ctorParameters=function(){return[{type:e.ElementRef},{type:G},{type:L}]},Dt.propDecorators={valid:[{type:e.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:e.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:e.HostListener,args:["document:mousedown",["$event"]]}]};var Ht=function(){function t(t,e,n){var o=this;this.ngxeService=t,this.menuService=e,this.el=n,this.isDropdownOpen=!1,this.activeItems=[],this.disabledItems=[],this.update=function(t){var e=t.state;o.activeItems=[],o.disabledItems=[],o.items.forEach((function(t){var n=It[t];n.isActive(e)&&o.activeItems.push(t),n.canExecute(e)||o.disabledItems.push(t)})),1===o.activeItems.length?o.activeItem=o.activeItems[0]:o.activeItem=null}}return Object.defineProperty(t.prototype,"isSelected",{get:function(){return Boolean(this.activeItem||this.isDropdownOpen)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDropdownDisabled",{get:function(){return this.disabledItems.length===this.items.length},enumerable:!1,configurable:!0}),t.prototype.onDocumentClick=function(t){!this.el.nativeElement.contains(t)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)},t.prototype.getName=function(t){return this.ngxeService.locals.get(t)},t.prototype.toggleDropdown=function(t){t.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen},t.prototype.onClick=function(t,e){if(t.preventDefault(),0===t.button){var n=It[e],o=this.editorView,r=o.state,i=o.dispatch;n.toggle()(r,i),this.isDropdownOpen=!1}},t.prototype.ngOnInit=function(){var t=this;this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(e){t.update(e)}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},t}();Ht.decorators=[{type:e.Component,args:[{selector:"ngx-dropdown",template:'<div class="NgxEditor__Dropdown--Text" (mousedown)="toggleDropdown($event)">\n  {{getName(activeItem || group)}}\n</div>\n\n<div class="NgxEditor__Dropdown--DropdownMenu" *ngIf="isDropdownOpen">\n  <div class="NgxEditor__Dropdown--Item" *ngFor="let item of items" (mousedown)="onClick($event, item)"\n    [ngClass]="{\'NgxEditor__Dropdown--Active\': item === activeItem, \'NgxEditor--Disabled\':disabledItems.includes(item)}">\n    {{getName(item)}}\n  </div>\n</div>\n',styles:[""]}]}],Ht.ctorParameters=function(){return[{type:G},{type:L},{type:e.ElementRef}]},Ht.propDecorators={group:[{type:e.Input}],items:[{type:e.Input}],isSelected:[{type:e.HostBinding,args:["class.NgxEditor__Dropdown--Selected"]}],isDropdownDisabled:[{type:e.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:e.HostListener,args:["document:mousedown",["$event.target"]]}]};var St=function(){function t(t,e,o){var r=this;this.el=t,this.ngxeService=e,this.menuService=o,this.showPopup=!1,this.isActive=!1,this.form=new n.FormGroup({src:new n.FormControl("",[n.Validators.required,n.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),alt:new n.FormControl(""),title:new n.FormControl("")}),this.update=function(t){var e=t.state;r.isActive=kt.isActive(e)}}return Object.defineProperty(t.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return V.get("image")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this.form.get("src")},enumerable:!1,configurable:!0}),t.prototype.onDocumentClick=function(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hideForm()},t.prototype.getLabel=function(t){return this.ngxeService.locals.get(t)},t.prototype.hideForm=function(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})},t.prototype.onMouseDown=function(t){t.preventDefault(),0===t.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())},t.prototype.fillForm=function(){var t=this.editorView.state.selection;if(t instanceof o.NodeSelection&&this.isActive){var e=t.node.attrs,n=e.src,r=e.alt,i=void 0===r?"":r,s=e.title,a=void 0===s?"":s;this.form.setValue({src:n,alt:i,title:a})}},t.prototype.insertLink=function(t){t.preventDefault();var e=this.form.getRawValue(),n=e.src,o=e.alt,r=e.title,i=this.editorView,s=i.dispatch,a=i.state,u={alt:o,title:r};kt.insert(n,u)(a,s),this.editorView.focus(),this.hideForm()},t.prototype.ngOnInit=function(){var t=this;this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(e){t.update(e)}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},t}();St.decorators=[{type:e.Component,args:[{selector:"ngx-image",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="onMouseDown($event)">\n</div>\n\n\x3c!-- popup --\x3e\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <form class="NgxEditor__Popup--Form" [formGroup]="form" (ngSubmit)="insertLink($event)">\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'url\')}}</label>\n        <input type="href" id="href" formControlName="src" autofocus autocomplete="off" />\n        <div *ngIf="src.touched && src.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ src.errors?.pattern && \'Please enter valid url.\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'altText\')}}</label>\n        <input type="text" formControlName="alt" autocomplete="off" />\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'title\')}}</label>\n        <input type="text" formControlName="title" autocomplete="off" />\n      </div>\n    </div>\n\n    <button type="submit" [disabled]="!form.valid || !form.dirty">{{getLabel(\'insert\')}}</button>\n\n  </form>\n</div>\n',styles:[""]}]}],St.ctorParameters=function(){return[{type:e.ElementRef},{type:G},{type:L}]},St.propDecorators={valid:[{type:e.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],onDocumentClick:[{type:e.HostListener,args:["document:mousedown",["$event"]]}]};var Rt=function(){function t(t,e,n){var o=this;this.el=t,this.menuService=e,this.ngxeService=n,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=function(t){var e=t.state;o.canExecute=o.command.canExecute(e),o.isActive=o.command.isActive(e),o.activeColors=[],o.isActive&&(o.activeColors=o.command.getActiveColors(e))}}return Object.defineProperty(t.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return!this.canExecute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getLabel("text_color"===this.type?"text_color":"background_color")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return V.get("text_color"===this.type?"text_color":"color_fill")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return"text_color"===this.type?Mt:Pt},enumerable:!1,configurable:!0}),t.prototype.getContrastYIQ=function(t){return t=t.replace("#",""),(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3>=128?"black":"white"},t.prototype.onDocumentClick=function(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hidePopup()},t.prototype.hidePopup=function(){this.showPopup=!1},t.prototype.togglePopup=function(t){t.preventDefault(),0===t.button&&(this.showPopup=!this.showPopup)},t.prototype.remove=function(t){t.preventDefault();var e=this.editorView,n=e.state,o=e.dispatch;this.command.remove()(n,o),this.hidePopup()},t.prototype.onColorSelect=function(t,e){if(t.preventDefault(),0===t.button){var n=this.editorView,o=n.state,r=n.dispatch;if("text_color"===this.type){var i={color:e};this.command.apply(i)(o,r)}else{i={backgroundColor:e};this.command.apply(i)(o,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}},t.prototype.getLabel=function(t){return this.ngxeService.locals.get(t)},t.prototype.ngOnInit=function(){var t=this;this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(e){t.update(e)}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},t}();Rt.decorators=[{type:e.Component,args:[{selector:"ngx-color-picker",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="togglePopup($event)"\n  [title]="title">\n</div>\n\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <div *ngFor="let colorGroup of presets" class="NgxEditor__ColorContainer">\n    <button class="NgxEditor__Color" *ngFor="let color of colorGroup"\n      [ngStyle]="{backgroundColor: color, color:getContrastYIQ(color)}" [title]="color"\n      (mousedown)="onColorSelect($event, color)"\n      [ngClass]="{\'NgxEditor__Color--Active\': activeColors.includes(color)}"></button>\n  </div>\n\n  <button class="NgxEditor__MenuItem--Button" (mousedown)="remove($event)" [disabled]="!isActive">\n    {{getLabel(\'remove\')}}\n  </button>\n</div>\n',styles:['@charset "UTF-8";.NgxEditor__Popup{width:230px}.NgxEditor__ColorContainer{display:flex;justify-content:space-between}.NgxEditor__ColorContainer+.NgxEditor__ColorContainer{margin-top:5px}.NgxEditor__Color{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active:after{content:"✔";font-size:90%}.NgxEditor__MenuItem--Button{margin-top:5px}']}]}],Rt.ctorParameters=function(){return[{type:e.ElementRef},{type:L},{type:G}]},Rt.propDecorators={presets:[{type:e.Input}],type:[{type:e.Input}],valid:[{type:e.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:e.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:e.HostListener,args:["document:mousedown",["$event"]]}]};var Lt=function(){function t(t,e){this.sanitizeHTML=t,this.ngxeService=e,this.execulableItems=[],this.activeItems=[],this.toolbar=[["bold","italic","underline","strike"],["ordered_list","bullet_list","blockquote","code"],["align_left","align_center","align_right","align_justify"]],this.toggleCommands=["bold","italic","underline","strike","ordered_list","bullet_list","blockquote","code","align_left","align_center","align_right","align_justify"]}return Object.defineProperty(t.prototype,"view",{get:function(){return this.editor.view},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(t){var e=V.getPath(t);return this.sanitizeHTML.transform(e)},t.prototype.getTitle=function(t){return this.ngxeService.locals.get(t)},t.prototype.onClick=function(t,e){if(t.preventDefault(),t.stopPropagation(),0===t.button){var n=this.view,o=n.state,r=n.dispatch;It[e].toggle()(o,r)}},t.prototype.update=function(t){var e=this;this.activeItems=[],this.execulableItems=[];var n=t.state;this.toggleCommands.forEach((function(t){var o=It[t];o.isActive(n)&&e.activeItems.push(t),o.canExecute(n)&&e.execulableItems.push(t)}))},t.prototype.ngOnInit=function(){var t=this;this.updateSubscription=this.editor.update.subscribe((function(e){t.update(e)}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},t}();Lt.decorators=[{type:e.Component,args:[{selector:"ngx-bubble",template:'<ng-container *ngFor="let toolbarItem of toolbar; let lastToolbarItem = last">\n  <ng-container *ngFor="let item of toolbarItem; let lastItem = last">\n      <div class="NgxBubbleMenu__Icon" [ngClass]="{\'NgxBubbleMenu__Icon--Active\': this.activeItems.includes(item),\n  \'NgxEditor--Disabled\': !this.execulableItems.includes(item)}" (mousedown)="onClick($event, item)"\n          *ngIf="toggleCommands.includes(item)" [title]="getTitle(item)">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="20" width="20"\n              [innerHTML]="getIcon(item)"></svg>\n      </div>\n      <div class="NgxBubbleMenu__Seperator" *ngIf="lastItem && !lastToolbarItem"></div>\n  </ng-container>\n</ng-container>\n',styles:["*,:after,:before{box-sizing:border-box}:host{display:flex;background-color:#000;color:#fff;padding:.3rem;border-radius:4px}.NgxBubbleMenu__Icon{height:1.8rem;width:1.8rem;transition:.3s ease-in-out;border-radius:2px;display:flex;align-items:center;justify-content:center}.NgxBubbleMenu__Icon svg{fill:#fff}.NgxBubbleMenu__Icon:hover{background-color:#636262}.NgxBubbleMenu__Icon+.NgxBubbleMenu__Icon{margin-left:.3rem}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active{background-color:#fff}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active svg{fill:#000}.NgxBubbleMenu__Seperator{border-left:1px solid #fff;margin:0 5px}"]}]}],Lt.ctorParameters=function(){return[{type:B},{type:G}]},Lt.propDecorators={editor:[{type:e.Input}]};var Tt=function(){};Tt.decorators=[{type:e.NgModule,args:[{imports:[p.CommonModule,n.ReactiveFormsModule],declarations:[B,A,zt,Dt,Ht,St,Rt,F,Lt],providers:[B],exports:[A,F]}]}];var Ot=new e.InjectionToken("NgxEditorConfig"),At=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:Ot,useValue:e},{provide:W,useFactory:U,deps:[Ot]}]}},t.forChild=function(e){return{ngModule:t,providers:[{provide:Ot,useValue:e},{provide:W,useFactory:U,deps:[Ot]},G]}},t}();At.decorators=[{type:e.NgModule,args:[{imports:[p.CommonModule,Tt],providers:[],declarations:[R,N],exports:[R,A,F]}]}];var jt=function(t){return null===t||0===t.length},Vt=jt,Bt=function(t){return null!=t&&"number"==typeof t.length},Ft=Bt,qt=function(t){if(!t)return!0;var e=t.childCount,n=t.firstChild;return Boolean(1===e&&(null==n?void 0:n.isTextblock)&&0===n.content.size)},$t=qt,Wt=function(){function t(){}return t.required=function(t){return function(e){var n=t||s.schema,o=S(e.value,n);return qt(o)?{required:!0}:null}},t.maxLength=function(t,e){return function(n){var o=e||s.schema,r=S(n.value,o).textContent;return Bt(r)&&r.length>t?{maxlength:{requiredLength:t,actualLength:r.length}}:null}},t.minLength=function(t,e){return function(n){var o=e||s.schema,r=S(n.value,o).textContent;return jt(r)||!Bt(r)?null:r.length<t?{minlength:{requiredLength:t,actualLength:r.length}}:null}},t}();Object.create;function Gt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}function Ut(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Gt(arguments[e]));return t}Object.create;var Kt=function(t,e){return void 0===e&&(e=!1),function(n,o){var r=new K(t);return e?r.toggle()(n,o):r.apply()(n,o)}},Jt=function(){function t(t){var e=this;if(this.applyTrx=function(t){e.state=e.state.apply(null!=t?t:e.tr),e.tr=e.state.tr,e.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=function(t){e.applyTrx(t)},!t)throw Error("NgxEditor: Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}return t.prototype.exec=function(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;var t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);var e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0},t.prototype.focus=function(){return this.view.focus(),this},t.prototype.scrollIntoView=function(){return this.tr.scrollIntoView(),this.applyTrx(),this},t.prototype.insertText=function(t){return this.tr.insertText(t),this.applyTrx(),this},t.prototype.insertNewLine=function(){var t=[l.newlineInCode,l.createParagraphNear,l.liftEmptyBlock,l.splitBlock];return l.chainCommands.apply(void 0,Ut(t))(this.state,this.dispatch),this},t.prototype.applyMark=function(t){return Kt(t,!1)(this.state,this.dispatch),this},t.prototype.toggleMark=function(t){return Kt(t,!0)(this.state,this.dispatch),this},t.prototype.bold=function(){return Kt("strong")(this.state,this.dispatch),this},t.prototype.toggleBold=function(){return Kt("strong",!0)(this.state,this.dispatch),this},t.prototype.italics=function(){return Kt("em")(this.state,this.dispatch),this},t.prototype.toggleItalics=function(){return Kt("em",!0)(this.state,this.dispatch),this},t.prototype.underline=function(){return Kt("u")(this.state,this.dispatch),this},t.prototype.toggleUnderline=function(){return Kt("u",!0)(this.state,this.dispatch),this},t.prototype.strike=function(){return Kt("s")(this.state,this.dispatch),this},t.prototype.toggleStrike=function(){return Kt("s",!0)(this.state,this.dispatch),this},t.prototype.code=function(){return Kt("code")(this.state,this.dispatch),this},t.prototype.toggleCode=function(){return Kt("code",!0)(this.state,this.dispatch),this},t.prototype.toggleOrderedList=function(){return new X(!1).toggle()(this.state,this.dispatch),this},t.prototype.toggleBulletList=function(){return new X(!0).toggle()(this.state,this.dispatch),this},t.prototype.toggleHeading=function(t){return new Q(t).toggle()(this.state,this.dispatch),this},t.prototype.insertLink=function(t,e){return(new tt).insert(t,e)(this.state,this.dispatch),this},t.prototype.updateLink=function(t){return(new tt).update(t)(this.state,this.dispatch),this},t.prototype.insertImage=function(t,e){return void 0===e&&(e={}),(new et).insert(t,e)(this.state,this.dispatch),this},t.prototype.textColor=function(t){return new nt("text_color").apply({color:t})(this.state,this.dispatch),this},t.prototype.backgroundColor=function(t){return new nt("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this},t.prototype.removeTextColor=function(){return new nt("text_color").remove()(this.state,this.dispatch),this},t.prototype.removeBackgroundColor=function(){return new nt("text_background_color").remove()(this.state,this.dispatch),this},t.prototype.align=function(t){return new Y(t).toggle()(this.state,this.dispatch),this},t.prototype.insertHTML=function(t){var e=this.state,n=e.selection,o=e.schema,r=e.tr,s=n.from,a=n.to,u=document.createElement("div");u.innerHTML=t.trim();var c=i.DOMParser.fromSchema(o).parseSlice(u),p=r.replaceRange(s,a,c);return this.applyTrx(p),this},t}(),Xt=/Mac/.test(navigator.platform),Qt=function(t){return b.wrappingInputRule(/^\s*>\s$/,t)},Yt=function(t){return b.wrappingInputRule(/^(\d+)\.\s$/,t,(function(t){return{order:+t[1]}}),(function(t,e){return e.childCount+e.attrs.order===+t[1]}))},Zt=function(t){return b.wrappingInputRule(/^\s*([-+*])\s$/,t)},te=function(t){return b.textblockTypeInputRule(/^```$/,t)},ee=function(t,e){return b.textblockTypeInputRule(new RegExp("^(#{1,"+e+"})\\s$"),t,(function(t){return{level:t[1].length}}))},ne=function(t){var e=b.smartQuotes.concat(b.ellipsis,b.emDash);return e.push(Qt(t.nodes.blockquote)),e.push(Yt(t.nodes.ordered_list)),e.push(Zt(t.nodes.bullet_list)),e.push(te(t.nodes.code_block)),e.push(ee(t.nodes.heading,6)),b.inputRules({rules:e})},oe=function(t,e){var n={};n["Mod-z"]=v.undo,Xt?n["Shift-Mod-z"]=v.redo:n["Mod-y"]=v.redo;var o=[m.keymap({"Mod-b":l.toggleMark(t.marks.strong),"Mod-i":l.toggleMark(t.marks.em),"Mod-`":l.toggleMark(t.marks.code)}),m.keymap({Enter:g.splitListItem(t.nodes.list_item),"Shift-Enter":l.chainCommands(l.exitCode,(function(e,n){var o=e.tr,r=t.nodes.hard_break;return n(o.replaceSelectionWith(r.create()).scrollIntoView()),!0})),"Mod-[":g.liftListItem(t.nodes.list_item),"Mod-]":g.sinkListItem(t.nodes.list_item),Tab:g.sinkListItem(t.nodes.list_item)}),m.keymap(l.baseKeymap)];return e.history&&o.push(m.keymap(n)),o},re=function(t,e){var n=[];return e.keyboardShortcuts&&n.push.apply(n,Ut(oe(t,{history:e.history}))),e.history&&n.push(v.history()),e.inputRules&&n.push(ne(t)),n},ie={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:s.schema,plugins:[],nodeViews:{}},se=function(){function t(t){void 0===t&&(t=ie),this.valueChangesSubject=new a.Subject,this.updateSubject=new a.Subject,this.options=Object.assign({},ie,t),this.createEditor()}return Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.valueChangesSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"update",{get:function(){return this.updateSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.options.schema||s.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commands",{get:function(){return new Jt(this.view)},enumerable:!1,configurable:!0}),t.prototype.setContent=function(t){if(!f.isNil(t)){var e=this.view.state,n=e.tr,o=e.doc,r=S(t,this.schema);n.replaceWith(0,e.doc.content.size,r),o.eq(n.doc)||n.docChanged&&this.view.dispatch(n)}},t.prototype.handleTransactions=function(t){var e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),t.docChanged||t.getMeta("FORCE_EMIT")){var n=e.doc.toJSON();this.valueChangesSubject.next(n)}},t.prototype.createEditor=function(){var t,e=this.options,n=e.content,i=void 0===n?null:n,s=e.nodeViews,a=e.history,u=void 0===a||a,c=e.keyboardShortcuts,p=void 0===c||c,l=e.inputRules,d=void 0===l||l,h=this.schema,g=S(i,h),f=null!==(t=e.plugins)&&void 0!==t?t:[],m=re(h,{history:u,keyboardShortcuts:p,inputRules:d});this.view=new r.EditorView(null,{state:o.EditorState.create({doc:g,schema:h,plugins:Ut(m,f)}),nodeViews:s,dispatchTransaction:this.handleTransactions.bind(this)})},t.prototype.registerPlugin=function(t){var e=this.view.state,n=Ut(e.plugins,[t]),o=e.reconfigure({plugins:n});this.view.updateState(o)},t.prototype.destroy=function(){this.view.destroy()},t}();Object.defineProperty(t,"marks",{enumerable:!0,get:function(){return s.marks}}),Object.defineProperty(t,"nodes",{enumerable:!0,get:function(){return s.nodes}}),Object.defineProperty(t,"schema",{enumerable:!0,get:function(){return s.schema}}),t.Editor=se,t.FloatingMenuComponent=F,t.MenuComponent=A,t.NgxEditorComponent=R,t.NgxEditorModule=At,t.Validators=Wt,t.emptyDoc=z,t.parseContent=S,t.toDoc=H,t.toHTML=D,t.ɵ0=Vt,t.ɵ1=Ft,t.ɵ2=$t,t.ɵa=L,t.ɵb=B,t.ɵc=Tt,t.ɵd=zt,t.ɵe=W,t.ɵf=G,t.ɵg=U,t.ɵh=Dt,t.ɵi=Ht,t.ɵj=St,t.ɵk=Rt,t.ɵl=Lt,t.ɵm=N,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-editor.umd.min.js.map