/**
 * @fileoverview added by tsickle
 * Generated from: toast-container/toast-container.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ChangeDetectionStrategy, ChangeDetectorRef, Component } from '@angular/core';
import { animate, animateChild, query, style, transition, trigger } from '@angular/animations';
import { Toast } from '../toast';
/** @type {?} */
const nestedTransition = transition('* => *', [
    query('@*', animateChild(), { optional: true })
]);
/** @type {?} */
const shrinkInTransition = transition('void => *', [
    style({ height: 0, opacity: 0, 'margin-top': 0 }),
    animate(200, style({ height: '*', opacity: 1, 'margin-top': '1rem' }))
]);
/** @type {?} */
const shrinkOutTransition = transition('* => void', [
    style({ height: '!', opacity: 1, 'margin-top': '1rem' }),
    animate(150, style({ height: 0, opacity: 0, 'margin-top': 0 }))
]);
/** @type {?} */
const progressTransition = transition('void => *', [
    style({ width: 0, opacity: 0 }),
    animate('{{duration}}', style({ width: '100%', opacity: 1 }))
]);
export class ToastContainerComponent {
    /**
     * @param {?} _changeDetector
     */
    constructor(_changeDetector) {
        this._changeDetector = _changeDetector;
        this.tl = [];
        this.tc = [];
        this.tr = [];
        this.bl = [];
        this.bc = [];
        this.br = [];
    }
    /**
     * @param {?} config
     * @return {?}
     */
    add(config) {
        /** @type {?} */
        const collection = this._getCollection(config.position);
        if (config.preventDuplicates && this._isDuplicate(collection, config)) {
            return null;
        }
        /** @type {?} */
        const toast = new Toast(config, (/**
         * @param {?} t
         * @return {?}
         */
        (t) => this._delete(collection, t)));
        collection.push(toast);
        this._changeDetector.detectChanges();
        return toast;
    }
    /**
     * @private
     * @param {?} collection
     * @param {?} toast
     * @return {?}
     */
    _delete(collection, toast) {
        collection.splice(collection.indexOf(toast), 1);
        this._changeDetector.detectChanges();
    }
    /**
     * @private
     * @param {?} collection
     * @param {?} config
     * @return {?}
     */
    _isDuplicate(collection, config) {
        return collection.some((/**
         * @param {?} t
         * @return {?}
         */
        t => {
            return t.type === config.type
                && t.component === config.component
                && t.caption === config.caption
                && t.text === config.text;
        }));
    }
    /**
     * @private
     * @param {?} position
     * @return {?}
     */
    _getCollection(position) {
        switch (position) {
            case 'top-left':
                return this.tl;
            case 'top-center':
                return this.tc;
            case 'top-right':
                return this.tr;
            case 'bottom-left':
                return this.bl;
            case 'bottom-center':
                return this.bc;
            default:
                return this.br;
        }
    }
}
ToastContainerComponent.decorators = [
    { type: Component, args: [{
                template: "<ng-template #toastPanel let-toasts>\r\n  <div *ngFor=\"let toast of toasts\" [@nested]>\r\n    <div class=\"toast-card\" [ngClass]=\"toast.type || 'light'\" [@shrink]>\r\n      <ng-template toastContent [toast]=\"toast\"></ng-template>\r\n      <div *ngIf=\"toast.autoClose\"\r\n           class=\"lifetime-progress\"\r\n           role=\"progressbar\"\r\n           [@progress]=\"{value: '*', params: {duration: toast.duration + 'ms'}}\"></div>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n\r\n<div class=\"toast-overlay\">\r\n  <div class=\"toast-panel top-center\">\r\n    <ng-container *ngTemplateOutlet=\"toastPanel; context: {$implicit: tc}\"></ng-container>\r\n  </div>\r\n  <div class=\"toast-panel top-left\">\r\n    <ng-container *ngTemplateOutlet=\"toastPanel; context: {$implicit: tl}\"></ng-container>\r\n  </div>\r\n  <div class=\"toast-panel top-right\">\r\n    <ng-container *ngTemplateOutlet=\"toastPanel; context: {$implicit: tr}\"></ng-container>\r\n  </div>\r\n  <div class=\"toast-panel bottom-center\">\r\n    <ng-container *ngTemplateOutlet=\"toastPanel; context: {$implicit: bc}\"></ng-container>\r\n  </div>\r\n  <div class=\"toast-panel bottom-left\">\r\n    <ng-container *ngTemplateOutlet=\"toastPanel; context: {$implicit: bl}\"></ng-container>\r\n  </div>\r\n  <div class=\"toast-panel bottom-right\">\r\n    <ng-container *ngTemplateOutlet=\"toastPanel; context: {$implicit: br}\"></ng-container>\r\n  </div>\r\n</div>\r\n",
                animations: [
                    trigger('nested', [nestedTransition]),
                    trigger('shrink', [shrinkInTransition, shrinkOutTransition]),
                    trigger('progress', [progressTransition]),
                ],
                changeDetection: ChangeDetectionStrategy.OnPush,
                styles: [".toast-overlay{pointer-events:none;position:fixed;z-index:9000;left:0;top:0;width:100%;height:100%}@media (max-width:575px){.toast-overlay{display:flex;justify-content:flex-end;flex-direction:column}}.toast-panel{width:100%;font-size:1rem;line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif}.toast-card{pointer-events:auto;overflow:hidden;background-clip:border-box;min-width:0;background-color:#f8f9fa;color:#212529;margin-top:1rem;box-shadow:rgba(0,0,0,.15) 0 .2rem 1.5rem .3rem}@media (min-width:576px){.toast-panel{position:absolute;max-width:20rem}.toast-panel.top-left{top:0;left:1rem}.toast-panel.top-center{top:0;left:50%;margin-left:-10rem}.toast-panel.top-right{top:0;right:1rem}.toast-panel.bottom-left{bottom:1rem;left:1rem}.toast-panel.bottom-center{bottom:1rem;left:50%;margin-left:-10rem}.toast-panel.bottom-right{bottom:1rem;right:1rem}.toast-card{border-radius:.15rem;box-shadow:rgba(0,0,0,.2) 0 .3rem .4rem -.2rem,rgba(0,0,0,.15) 0 .2rem 1.5rem .3rem}}.toast-card.danger,.toast-card.dark,.toast-card.info,.toast-card.primary,.toast-card.secondary,.toast-card.success{color:#f8f9fa}.toast-card.danger .lifetime-progress,.toast-card.dark .lifetime-progress,.toast-card.info .lifetime-progress,.toast-card.primary .lifetime-progress,.toast-card.secondary .lifetime-progress,.toast-card.success .lifetime-progress{background-color:#f8f9fa}.toast-card.light .lifetime-progress,.toast-card.primary,.toast-card.warning .lifetime-progress{background-color:#007bff}.toast-card.secondary{background-color:#868e96}.toast-card.success{background-color:#28a745}.toast-card.danger{background-color:#dc3545}.toast-card.warning{background-color:#ffc107}.toast-card.info{background-color:#17a2b8}.toast-card.light{background-color:#f8f9fa}.toast-card.dark{background-color:#343a40}.toast-card .lifetime-progress{display:flex;height:2px;width:0;border-radius:1px}"]
            }] }
];
/** @nocollapse */
ToastContainerComponent.ctorParameters = () => [
    { type: ChangeDetectorRef }
];
if (false) {
    /** @type {?} */
    ToastContainerComponent.prototype.tl;
    /** @type {?} */
    ToastContainerComponent.prototype.tc;
    /** @type {?} */
    ToastContainerComponent.prototype.tr;
    /** @type {?} */
    ToastContainerComponent.prototype.bl;
    /** @type {?} */
    ToastContainerComponent.prototype.bc;
    /** @type {?} */
    ToastContainerComponent.prototype.br;
    /**
     * @type {?}
     * @private
     */
    ToastContainerComponent.prototype._changeDetector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9hc3QtY29udGFpbmVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC10b2FzdC1ub3RpZmljYXRpb25zLyIsInNvdXJjZXMiOlsidG9hc3QtY29udGFpbmVyL3RvYXN0LWNvbnRhaW5lci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3RGLE9BQU8sRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRS9GLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUM7O01BRzNCLGdCQUFnQixHQUFHLFVBQVUsQ0FBQyxRQUFRLEVBQUU7SUFDNUMsS0FBSyxDQUFDLElBQUksRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQztDQUM5QyxDQUFDOztNQUVJLGtCQUFrQixHQUFHLFVBQVUsQ0FBQyxXQUFXLEVBQUU7SUFDakQsS0FBSyxDQUFDLEVBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUMsQ0FBQztJQUMvQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQztDQUNyRSxDQUFDOztNQUVJLG1CQUFtQixHQUFHLFVBQVUsQ0FBQyxXQUFXLEVBQUU7SUFDbEQsS0FBSyxDQUFDLEVBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUMsQ0FBQztJQUN0RCxPQUFPLENBQUMsR0FBRyxFQUFFLEtB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LE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO29CQUNyQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztvQkFDNUQsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLGtCQUFrQixDQUFDLENBQUM7aUJBQzFDO2dCQUNELGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNOzthQUNoRDs7OztZQWxDaUMsaUJBQWlCOzs7O0lBcUNqRCxxQ0FBaUI7O0lBQ2pCLHFDQUFpQjs7SUFDakIscUNBQWlCOztJQUNqQixxQ0FBaUI7O0lBQ2pCLHFDQUFpQjs7SUFDakIscUNBQWlCOzs7OztJQUdmLGtEQUEwQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IGFuaW1hdGUsIGFuaW1hdGVDaGlsZCwgcXVlcnksIHN0eWxlLCB0cmFuc2l0aW9uLCB0cmlnZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XHJcbmltcG9ydCB7IFRvYXN0Q29uZmlnIH0gZnJvbSAnLi4vdG9hc3QuY29uZmlnJztcclxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tICcuLi90b2FzdCc7XHJcbmltcG9ydCB7IFRvYXN0UG9zaXRpb24gfSBmcm9tICcuLi90b2FzdC1ub3RpZmljYXRpb25zLmNvbmZpZyc7XHJcblxyXG5jb25zdCBuZXN0ZWRUcmFuc2l0aW9uID0gdHJhbnNpdGlvbignKiA9PiAqJywgW1xyXG4gIHF1ZXJ5KCdAKicsIGFuaW1hdGVDaGlsZCgpLCB7b3B0aW9uYWw6IHRydWV9KVxyXG5dKTtcclxuXHJcbmNvbnN0IHNocmlua0luVHJhbnNpdGlvbiA9IHRyYW5zaXRpb24oJ3ZvaWQgPT4gKicsIFtcclxuICBzdHlsZSh7aGVpZ2h0OiAwLCBvcGFjaXR5OiAwLCAnbWFyZ2luLXRvcCc6IDB9KSxcclxuICBhbmltYXRlKDIwMCwgc3R5bGUoe2hlaWdodDogJyonLCBvcGFjaXR5OiAxLCAnbWFyZ2luLXRvcCc6ICcxcmVtJ30pKVxyXG5dKTtcclxuXHJcbmNvbnN0IHNocmlua091dFRyYW5zaXRpb24gPSB0cmFuc2l0aW9uKCcqID0+IHZvaWQnLCBbXHJcbiAgc3R5bGUoe2hlaWdodDogJyEnLCBvcGFjaXR5OiAxLCAnbWFyZ2luLXRvcCc6ICcxcmVtJ30pLFxyXG4gIGFuaW1hdGUoMTUwLCBzdHlsZSh7aGVpZ2h0OiAwLCBvcGFjaXR5OiAwLCAnbWFyZ2luLXRvcCc6IDB9KSlcclxuXSk7XHJcblxyXG5jb25zdCBwcm9ncmVzc1RyYW5zaXRpb24gPSB0cmFuc2l0aW9uKCd2b2lkID0+IConLCBbXHJcbiAgc3R5bGUoe3dpZHRoOiAwLCBvcGFjaXR5OiAwfSksXHJcbiAgYW5pbWF0ZSgne3tkdXJhdGlvbn19Jywgc3R5bGUoe3dpZHRoOiAnMTAwJScsIG9wYWNpdHk6IDF9KSlcclxuXSk7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICB0ZW1wbGF0ZVVybDogJy4vdG9hc3QtY29udGFpbmVyLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi90b2FzdC1jb250YWluZXIuY29tcG9uZW50LnNjc3MnXSxcclxuICBhbmltYXRpb25zOiBbXHJcbiAgICB0cmlnZ2VyKCduZXN0ZWQnLCBbbmVzdGVkVHJhbnNpdGlvbl0pLFxyXG4gICAgdHJpZ2dlcignc2hyaW5rJywgW3Nocmlua0luVHJhbnNpdGlvbiwgc2hyaW5rT3V0VHJhbnNpdGlvbl0pLFxyXG4gICAgdHJpZ2dlcigncHJvZ3Jlc3MnLCBbcHJvZ3Jlc3NUcmFuc2l0aW9uXSksXHJcbiAgXSxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxufSlcclxuZXhwb3J0IGNsYXNzIFRvYXN0Q29udGFpbmVyQ29tcG9uZW50IHtcclxuXHJcbiAgdGw6IFRvYXN0W10gPSBbXTtcclxuICB0YzogVG9hc3RbXSA9IFtdO1xyXG4gIHRyOiBUb2FzdFtdID0gW107XHJcbiAgYmw6IFRvYXN0W10gPSBbXTtcclxuICBiYzogVG9hc3RbXSA9IFtdO1xyXG4gIGJyOiBUb2FzdFtdID0gW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBfY2hhbmdlRGV0ZWN0b3I6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICkge1xyXG4gIH1cclxuXHJcbiAgYWRkKGNvbmZpZzogVG9hc3RDb25maWcpOiBUb2FzdCB8IG51bGwge1xyXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMuX2dldENvbGxlY3Rpb24oY29uZmlnLnBvc2l0aW9uKTtcclxuICAgIGlmIChjb25maWcucHJldmVudER1cGxpY2F0ZXMgJiYgdGhpcy5faXNEdXBsaWNhdGUoY29sbGVjdGlvbiwgY29uZmlnKSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IHRvYXN0ID0gbmV3IFRvYXN0KGNvbmZpZywgKHQpID0+IHRoaXMuX2RlbGV0ZShjb2xsZWN0aW9uLCB0KSk7XHJcbiAgICBjb2xsZWN0aW9uLnB1c2godG9hc3QpO1xyXG4gICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3IuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgcmV0dXJuIHRvYXN0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfZGVsZXRlKGNvbGxlY3Rpb246IFRvYXN0W10sIHRvYXN0OiBUb2FzdCk6IHZvaWQge1xyXG4gICAgY29sbGVjdGlvbi5zcGxpY2UoY29sbGVjdGlvbi5pbmRleE9mKHRvYXN0KSwgMSk7XHJcbiAgICB0aGlzLl9jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9pc0R1cGxpY2F0ZShjb2xsZWN0aW9uOiBUb2FzdFtdLCBjb25maWc6IFRvYXN0Q29uZmlnKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gY29sbGVjdGlvbi5zb21lKHQgPT4ge1xyXG4gICAgICByZXR1cm4gdC50eXBlID09PSBjb25maWcudHlwZVxyXG4gICAgICAgICYmIHQuY29tcG9uZW50ID09PSBjb25maWcuY29tcG9uZW50XHJcbiAgICAgICAgJiYgdC5jYXB0aW9uID09PSBjb25maWcuY2FwdGlvblxyXG4gICAgICAgICYmIHQudGV4dCA9PT0gY29uZmlnLnRleHQ7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfZ2V0Q29sbGVjdGlvbihwb3NpdGlvbjogVG9hc3RQb3NpdGlvbik6IFRvYXN0W10ge1xyXG4gICAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgICBjYXNlICd0b3AtbGVmdCc6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGw7XHJcbiAgICAgIGNhc2UgJ3RvcC1jZW50ZXInOlxyXG4gICAgICAgIHJldHVybiB0aGlzLnRjO1xyXG4gICAgICBjYXNlICd0b3AtcmlnaHQnOlxyXG4gICAgICAgIHJldHVybiB0aGlzLnRyO1xyXG4gICAgICBjYXNlICdib3R0b20tbGVmdCc6XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmw7XHJcbiAgICAgIGNhc2UgJ2JvdHRvbS1jZW50ZXInOlxyXG4gICAgICAgIHJldHVybiB0aGlzLmJjO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB0aGlzLmJyO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=