import { Component, Inject, forwardRef } from '@angular/core';
import { DataTable } from './table.component';
import * as i0 from "@angular/core";
import * as i1 from "./table.component";
import * as i2 from "@angular/forms";
import * as i3 from "../utils/min";
const _c0 = function (a0, a1) { return [a0, a1]; };
export class DataTablePagination {
    constructor(dataTable) {
        this.dataTable = dataTable;
    }
    pageBack() {
        this.dataTable.offset -= Math.min(this.dataTable.limit, this.dataTable.offset);
    }
    pageForward() {
        this.dataTable.offset += this.dataTable.limit;
    }
    pageFirst() {
        this.dataTable.offset = 0;
    }
    pageLast() {
        this.dataTable.offset = (this.maxPage - 1) * this.dataTable.limit;
    }
    get maxPage() {
        return Math.ceil(this.dataTable.itemCount / this.dataTable.limit);
    }
    get limit() {
        return this.dataTable.limit;
    }
    set limit(value) {
        this.dataTable.limit = Number(value); // TODO better way to handle that value of number <input> is string?
    }
    get page() {
        return this.dataTable.page;
    }
    set page(value) {
        this.dataTable.page = Number(value);
    }
}
DataTablePagination.ɵfac = function DataTablePagination_Factory(t) { return new (t || DataTablePagination)(i0.ɵɵdirectiveInject(forwardRef(() => DataTable))); };
DataTablePagination.ɵcmp = i0.ɵɵdefineComponent({ type: DataTablePagination, selectors: [["data-table-pagination"]], decls: 33, vars: 18, consts: [[1, "pagination-box"], [1, "pagination-range"], [3, "textContent"], [1, "pagination-controllers"], [1, "pagination-limit"], [1, "input-group"], [1, "input-group-addon"], ["type", "number", "min", "1", "step", "1", 1, "form-control", 3, "ngModel", "blur", "keyup.enter", "keyup.esc"], ["limitInput", ""], [1, "pagination-pages"], [1, "btn", "btn-default", "pagination-firstpage", 3, "disabled", "click"], [1, "btn", "btn-default", "pagination-prevpage", 3, "disabled", "click"], [1, "pagination-page"], ["type", "number", "min", "1", "step", "1", 1, "form-control", 3, "max", "ngModel", "blur", "keyup.enter", "keyup.esc"], ["pageInput", ""], [1, "btn", "btn-default", "pagination-nextpage", 3, "disabled", "click"], [1, "btn", "btn-default", "pagination-lastpage", 3, "disabled", "click"]], template: function DataTablePagination_Template(rf, ctx) { if (rf & 1) {
        const _r2 = i0.ɵɵgetCurrentView();
        i0.ɵɵelementStart(0, "div", 0);
        i0.ɵɵelementStart(1, "div", 1);
        i0.ɵɵtext(2);
        i0.ɵɵelement(3, "span", 2);
        i0.ɵɵtext(4, " - ");
        i0.ɵɵelement(5, "span", 2);
        i0.ɵɵpipe(6, "min");
        i0.ɵɵtext(7, " / ");
        i0.ɵɵelement(8, "span", 2);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(9, "div", 3);
        i0.ɵɵelementStart(10, "div", 4);
        i0.ɵɵelementStart(11, "div", 5);
        i0.ɵɵelementStart(12, "span", 6);
        i0.ɵɵtext(13);
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(14, "input", 7, 8);
        i0.ɵɵlistener("blur", function DataTablePagination_Template_input_blur_14_listener() { i0.ɵɵrestoreView(_r2); const _r0 = i0.ɵɵreference(15); return ctx.limit = _r0.value; })("keyup.enter", function DataTablePagination_Template_input_keyup_enter_14_listener() { i0.ɵɵrestoreView(_r2); const _r0 = i0.ɵɵreference(15); return ctx.limit = _r0.value; })("keyup.esc", function DataTablePagination_Template_input_keyup_esc_14_listener() { i0.ɵɵrestoreView(_r2); const _r0 = i0.ɵɵreference(15); return _r0.value = ctx.limit; });
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(16, "div", 9);
        i0.ɵɵelementStart(17, "button", 10);
        i0.ɵɵlistener("click", function DataTablePagination_Template_button_click_17_listener() { return ctx.pageFirst(); });
        i0.ɵɵtext(18, " \u00AB ");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(19, "button", 11);
        i0.ɵɵlistener("click", function DataTablePagination_Template_button_click_19_listener() { return ctx.pageBack(); });
        i0.ɵɵtext(20, " \u2039 ");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(21, "div", 12);
        i0.ɵɵelementStart(22, "div", 5);
        i0.ɵɵelementStart(23, "input", 13, 14);
        i0.ɵɵlistener("blur", function DataTablePagination_Template_input_blur_23_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(24); return ctx.page = _r1.value; })("keyup.enter", function DataTablePagination_Template_input_keyup_enter_23_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(24); return ctx.page = _r1.value; })("keyup.esc", function DataTablePagination_Template_input_keyup_esc_23_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(24); return _r1.value = ctx.page; });
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(25, "div", 6);
        i0.ɵɵelementStart(26, "span");
        i0.ɵɵtext(27, "/");
        i0.ɵɵelementEnd();
        i0.ɵɵelement(28, "span", 2);
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(29, "button", 15);
        i0.ɵɵlistener("click", function DataTablePagination_Template_button_click_29_listener() { return ctx.pageForward(); });
        i0.ɵɵtext(30, " \u203A ");
        i0.ɵɵelementEnd();
        i0.ɵɵelementStart(31, "button", 16);
        i0.ɵɵlistener("click", function DataTablePagination_Template_button_click_31_listener() { return ctx.pageLast(); });
        i0.ɵɵtext(32, " \u00BB ");
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵadvance(2);
        i0.ɵɵtextInterpolate1(" ", ctx.dataTable.translations.paginationRange, ": ");
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("textContent", ctx.dataTable.offset + 1);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("textContent", i0.ɵɵpipeBind1(6, 13, i0.ɵɵpureFunction2(15, _c0, ctx.dataTable.offset + ctx.dataTable.limit, ctx.dataTable.itemCount)));
        i0.ɵɵadvance(3);
        i0.ɵɵproperty("textContent", ctx.dataTable.itemCount);
        i0.ɵɵadvance(5);
        i0.ɵɵtextInterpolate1("", ctx.dataTable.translations.paginationLimit, ":");
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngModel", ctx.limit);
        i0.ɵɵadvance(3);
        i0.ɵɵproperty("disabled", ctx.dataTable.offset <= 0);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("disabled", ctx.dataTable.offset <= 0);
        i0.ɵɵadvance(4);
        i0.ɵɵpropertyInterpolate("max", ctx.maxPage);
        i0.ɵɵproperty("ngModel", ctx.page);
        i0.ɵɵadvance(5);
        i0.ɵɵproperty("textContent", ctx.dataTable.lastPage);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("disabled", ctx.dataTable.offset + ctx.dataTable.limit >= ctx.dataTable.itemCount);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("disabled", ctx.dataTable.offset + ctx.dataTable.limit >= ctx.dataTable.itemCount);
    } }, directives: [i2.NumberValueAccessor, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel], pipes: [i3.MinPipe], styles: [".pagination-box[_ngcontent-%COMP%]{position:relative;margin-top:-10px}.pagination-range[_ngcontent-%COMP%]{margin-top:7px;margin-left:3px;display:inline-block}.pagination-controllers[_ngcontent-%COMP%]{float:right}.pagination-controllers[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:60px;text-align:right}.pagination-limit[_ngcontent-%COMP%]{margin-right:25px;display:inline-table;width:150px}.pagination-pages[_ngcontent-%COMP%]{display:inline-block}.pagination-page[_ngcontent-%COMP%]{width:110px;display:inline-table}.pagination-page[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{display:inline}.pagination-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:0!important}.pagination-firstpage[_ngcontent-%COMP%], .pagination-lastpage[_ngcontent-%COMP%], .pagination-nextpage[_ngcontent-%COMP%], .pagination-prevpage[_ngcontent-%COMP%]{vertical-align:top}.pagination-reload[_ngcontent-%COMP%]{color:gray;font-size:12px}"] });
/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(DataTablePagination, [{
        type: Component,
        args: [{
                selector: 'data-table-pagination',
                templateUrl: './pagination.html',
                styleUrls: ['./pagination.css']
            }]
    }], function () { return [{ type: i1.DataTable, decorators: [{
                type: Inject,
                args: [forwardRef(() => DataTable)]
            }] }]; }, null); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnaW5hdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLWJvb3RzdHJhcC1kYXRhLXRhYmxlLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvcGFnaW5hdGlvbi5jb21wb25lbnQudHMiLCJsaWIvY29tcG9uZW50cy9wYWdpbmF0aW9uLmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzlELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQzs7Ozs7O0FBTzlDLE1BQU0sT0FBTyxtQkFBbUI7SUFDOUIsWUFDOEMsU0FBb0I7UUFBcEIsY0FBUyxHQUFULFNBQVMsQ0FBVztJQUMvRCxDQUFDO0lBRUosUUFBUTtRQUNOLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQy9CLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUNwQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FDdEIsQ0FBQztJQUNKLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7SUFDaEQsQ0FBQztJQUVELFNBQVM7UUFDUCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7SUFDcEUsQ0FBQztJQUVELElBQUksT0FBTztRQUNULE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFRCxJQUFJLEtBQUs7UUFDUCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0lBQzlCLENBQUM7SUFFRCxJQUFJLEtBQUssQ0FBQyxLQUFLO1FBQ2IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsb0VBQW9FO0lBQ2pILENBQUM7SUFFRCxJQUFJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLO1FBQ1osSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFNLEtBQUssQ0FBQyxDQUFDO0lBQzNDLENBQUM7O3NGQTFDVSxtQkFBbUIsdUJBRXBCLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUM7d0RBRjFCLG1CQUFtQjs7UUNSaEMsOEJBQ0U7UUFBQSw4QkFDRTtRQUFBLFlBQ0E7UUFBQSwwQkFBa0Q7UUFDbEQsbUJBQ0E7UUFBQSwwQkFJUTs7UUFDUixtQkFDQTtRQUFBLDBCQUFpRDtRQUNuRCxpQkFBTTtRQUNOLDhCQUNFO1FBQUEsK0JBQ0U7UUFBQSwrQkFDRTtRQUFBLGdDQUNHO1FBQUEsYUFBNkM7UUFBQSxpQkFDL0M7UUFDRCxvQ0FXRjtRQUpJLDhLQUFpQywrS0FBQSwyS0FBQTtRQVBuQyxpQkFXRjtRQUFBLGlCQUFNO1FBQ1IsaUJBQU07UUFDTiwrQkFDRTtRQUFBLG1DQUtFO1FBSEEsaUdBQVMsZUFBVyxJQUFDO1FBR3JCLHlCQUNGO1FBQUEsaUJBQVM7UUFDVCxtQ0FLRTtRQUhBLGlHQUFTLGNBQVUsSUFBQztRQUdwQix5QkFDRjtRQUFBLGlCQUFTO1FBQ1QsZ0NBQ0U7UUFBQSwrQkFDRTtRQUFBLHNDQVlBO1FBSkUsNktBQStCLDhLQUFBLDBLQUFBO1FBUmpDLGlCQVlBO1FBQUEsK0JBQ0U7UUFBQSw2QkFBTTtRQUFBLGtCQUFDO1FBQUEsaUJBQU87UUFDZCwyQkFBZ0Q7UUFDbEQsaUJBQU07UUFDUixpQkFBTTtRQUNSLGlCQUFNO1FBQ04sbUNBS0U7UUFIQSxpR0FBUyxpQkFBYSxJQUFDO1FBR3ZCLHlCQUNGO1FBQUEsaUJBQVM7UUFDVCxtQ0FLRTtRQUhBLGlHQUFTLGNBQVUsSUFBQztRQUdwQix5QkFDRjtRQUFBLGlCQUFTO1FBQ1gsaUJBQU07UUFDUixpQkFBTTtRQUNSLGlCQUFNOztRQWpGRixlQUNBO1FBREEsNEVBQ0E7UUFBTSxlQUFvQztRQUFwQyxzREFBb0M7UUFHeEMsZUFFQztRQUZELHFKQUVDO1FBR0csZUFBbUM7UUFBbkMscURBQW1DO1FBTWxDLGVBQTZDO1FBQTdDLDBFQUE2QztRQVE5QyxlQUFpQjtRQUFqQixtQ0FBaUI7UUFTbkIsZUFBa0M7UUFBbEMsb0RBQWtDO1FBT2xDLGVBQWtDO1FBQWxDLG9EQUFrQztRQWM5QixlQUFtQjtRQUFuQiw0Q0FBbUI7UUFDbkIsa0NBQWdCO1FBT1YsZUFBa0M7UUFBbEMsb0RBQWtDO1FBSzVDLGVBQXNFO1FBQXRFLGdHQUFzRTtRQU90RSxlQUFzRTtRQUF0RSxnR0FBc0U7O2tERG5FakUsbUJBQW1CO2NBTC9CLFNBQVM7ZUFBQztnQkFDVCxRQUFRLEVBQUUsdUJBQXVCO2dCQUNqQyxXQUFXLEVBQUUsbUJBQW1CO2dCQUNoQyxTQUFTLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQzthQUNoQzs7c0JBR0ksTUFBTTt1QkFBQyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIGZvcndhcmRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRGF0YVRhYmxlIH0gZnJvbSAnLi90YWJsZS5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdkYXRhLXRhYmxlLXBhZ2luYXRpb24nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9wYWdpbmF0aW9uLmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3BhZ2luYXRpb24uY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGFUYWJsZVBhZ2luYXRpb24ge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IERhdGFUYWJsZSkpIHB1YmxpYyBkYXRhVGFibGU6IERhdGFUYWJsZVxyXG4gICkge31cclxuXHJcbiAgcGFnZUJhY2soKSB7XHJcbiAgICB0aGlzLmRhdGFUYWJsZS5vZmZzZXQgLT0gTWF0aC5taW4oXHJcbiAgICAgIHRoaXMuZGF0YVRhYmxlLmxpbWl0LFxyXG4gICAgICB0aGlzLmRhdGFUYWJsZS5vZmZzZXRcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwYWdlRm9yd2FyZCgpIHtcclxuICAgIHRoaXMuZGF0YVRhYmxlLm9mZnNldCArPSB0aGlzLmRhdGFUYWJsZS5saW1pdDtcclxuICB9XHJcblxyXG4gIHBhZ2VGaXJzdCgpIHtcclxuICAgIHRoaXMuZGF0YVRhYmxlLm9mZnNldCA9IDA7XHJcbiAgfVxyXG5cclxuICBwYWdlTGFzdCgpIHtcclxuICAgIHRoaXMuZGF0YVRhYmxlLm9mZnNldCA9ICh0aGlzLm1heFBhZ2UgLSAxKSAqIHRoaXMuZGF0YVRhYmxlLmxpbWl0O1xyXG4gIH1cclxuXHJcbiAgZ2V0IG1heFBhZ2UoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuZGF0YVRhYmxlLml0ZW1Db3VudCAvIHRoaXMuZGF0YVRhYmxlLmxpbWl0KTtcclxuICB9XHJcblxyXG4gIGdldCBsaW1pdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFUYWJsZS5saW1pdDtcclxuICB9XHJcblxyXG4gIHNldCBsaW1pdCh2YWx1ZSkge1xyXG4gICAgdGhpcy5kYXRhVGFibGUubGltaXQgPSBOdW1iZXIoPGFueT52YWx1ZSk7IC8vIFRPRE8gYmV0dGVyIHdheSB0byBoYW5kbGUgdGhhdCB2YWx1ZSBvZiBudW1iZXIgPGlucHV0PiBpcyBzdHJpbmc/XHJcbiAgfVxyXG5cclxuICBnZXQgcGFnZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFUYWJsZS5wYWdlO1xyXG4gIH1cclxuXHJcbiAgc2V0IHBhZ2UodmFsdWUpIHtcclxuICAgIHRoaXMuZGF0YVRhYmxlLnBhZ2UgPSBOdW1iZXIoPGFueT52YWx1ZSk7XHJcbiAgfVxyXG59XHJcbiIsIjxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uLWJveFwiPlxyXG4gIDxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uLXJhbmdlXCI+XHJcbiAgICB7eyBkYXRhVGFibGUudHJhbnNsYXRpb25zLnBhZ2luYXRpb25SYW5nZSB9fTpcclxuICAgIDxzcGFuIFt0ZXh0Q29udGVudF09XCJkYXRhVGFibGUub2Zmc2V0ICsgMVwiPjwvc3Bhbj5cclxuICAgIC1cclxuICAgIDxzcGFuXHJcbiAgICAgIFt0ZXh0Q29udGVudF09XCJcclxuICAgICAgICBbZGF0YVRhYmxlLm9mZnNldCArIGRhdGFUYWJsZS5saW1pdCwgZGF0YVRhYmxlLml0ZW1Db3VudF0gfCBtaW5cclxuICAgICAgXCJcclxuICAgID48L3NwYW4+XHJcbiAgICAvXHJcbiAgICA8c3BhbiBbdGV4dENvbnRlbnRdPVwiZGF0YVRhYmxlLml0ZW1Db3VudFwiPjwvc3Bhbj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwicGFnaW5hdGlvbi1jb250cm9sbGVyc1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cInBhZ2luYXRpb24tbGltaXRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiXHJcbiAgICAgICAgICA+e3sgZGF0YVRhYmxlLnRyYW5zbGF0aW9ucy5wYWdpbmF0aW9uTGltaXQgfX06PC9zcGFuXHJcbiAgICAgICAgPlxyXG4gICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgI2xpbWl0SW5wdXRcclxuICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIlxyXG4gICAgICAgICAgbWluPVwiMVwiXHJcbiAgICAgICAgICBzdGVwPVwiMVwiXHJcbiAgICAgICAgICBbbmdNb2RlbF09XCJsaW1pdFwiXHJcbiAgICAgICAgICAoYmx1cik9XCJsaW1pdCA9IGxpbWl0SW5wdXQudmFsdWVcIlxyXG4gICAgICAgICAgKGtleXVwLmVudGVyKT1cImxpbWl0ID0gbGltaXRJbnB1dC52YWx1ZVwiXHJcbiAgICAgICAgICAoa2V5dXAuZXNjKT1cImxpbWl0SW5wdXQudmFsdWUgPSBsaW1pdFwiXHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCIgcGFnaW5hdGlvbi1wYWdlc1wiPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgW2Rpc2FibGVkXT1cImRhdGFUYWJsZS5vZmZzZXQgPD0gMFwiXHJcbiAgICAgICAgKGNsaWNrKT1cInBhZ2VGaXJzdCgpXCJcclxuICAgICAgICBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBwYWdpbmF0aW9uLWZpcnN0cGFnZVwiXHJcbiAgICAgID5cclxuICAgICAgICAmbGFxdW87XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgW2Rpc2FibGVkXT1cImRhdGFUYWJsZS5vZmZzZXQgPD0gMFwiXHJcbiAgICAgICAgKGNsaWNrKT1cInBhZ2VCYWNrKClcIlxyXG4gICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IHBhZ2luYXRpb24tcHJldnBhZ2VcIlxyXG4gICAgICA+XHJcbiAgICAgICAgJmxzYXF1bztcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uLXBhZ2VcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAjcGFnZUlucHV0XHJcbiAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICBjbGFzcz1cImZvcm0tY29udHJvbFwiXHJcbiAgICAgICAgICAgIG1pbj1cIjFcIlxyXG4gICAgICAgICAgICBzdGVwPVwiMVwiXHJcbiAgICAgICAgICAgIG1heD1cInt7IG1heFBhZ2UgfX1cIlxyXG4gICAgICAgICAgICBbbmdNb2RlbF09XCJwYWdlXCJcclxuICAgICAgICAgICAgKGJsdXIpPVwicGFnZSA9IHBhZ2VJbnB1dC52YWx1ZVwiXHJcbiAgICAgICAgICAgIChrZXl1cC5lbnRlcik9XCJwYWdlID0gcGFnZUlucHV0LnZhbHVlXCJcclxuICAgICAgICAgICAgKGtleXVwLmVzYyk9XCJwYWdlSW5wdXQudmFsdWUgPSBwYWdlXCJcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYWRkb25cIj5cclxuICAgICAgICAgICAgPHNwYW4+Lzwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gW3RleHRDb250ZW50XT1cImRhdGFUYWJsZS5sYXN0UGFnZVwiPjwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIFtkaXNhYmxlZF09XCJkYXRhVGFibGUub2Zmc2V0ICsgZGF0YVRhYmxlLmxpbWl0ID49IGRhdGFUYWJsZS5pdGVtQ291bnRcIlxyXG4gICAgICAgIChjbGljayk9XCJwYWdlRm9yd2FyZCgpXCJcclxuICAgICAgICBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBwYWdpbmF0aW9uLW5leHRwYWdlXCJcclxuICAgICAgPlxyXG4gICAgICAgICZyc2FxdW87XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgW2Rpc2FibGVkXT1cImRhdGFUYWJsZS5vZmZzZXQgKyBkYXRhVGFibGUubGltaXQgPj0gZGF0YVRhYmxlLml0ZW1Db3VudFwiXHJcbiAgICAgICAgKGNsaWNrKT1cInBhZ2VMYXN0KClcIlxyXG4gICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IHBhZ2luYXRpb24tbGFzdHBhZ2VcIlxyXG4gICAgICA+XHJcbiAgICAgICAgJnJhcXVvO1xyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19