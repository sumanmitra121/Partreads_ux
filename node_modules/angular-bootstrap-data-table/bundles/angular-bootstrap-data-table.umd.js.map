{"version":3,"file":"angular-bootstrap-data-table.umd.js","sources":["ng://angular-bootstrap-data-table/lib/components/column.component.ts","ng://angular-bootstrap-data-table/lib/utils/hide.ts","ng://angular-bootstrap-data-table/lib/components/row.html","ng://angular-bootstrap-data-table/lib/components/row.component.ts","ng://angular-bootstrap-data-table/lib/components/types.ts","ng://angular-bootstrap-data-table/lib/utils/drag.ts","ng://angular-bootstrap-data-table/lib/components/table.html","ng://angular-bootstrap-data-table/lib/components/table.component.ts","ng://angular-bootstrap-data-table/lib/utils/min.ts","ng://angular-bootstrap-data-table/lib/components/pagination.component.ts","ng://angular-bootstrap-data-table/lib/components/pagination.html","ng://angular-bootstrap-data-table/lib/components/header.html","ng://angular-bootstrap-data-table/lib/components/header.component.ts","ng://angular-bootstrap-data-table/lib/utils/px.ts","ng://angular-bootstrap-data-table/lib/tools/data-table-resource.ts","ng://angular-bootstrap-data-table/lib/angular-bootstrap-data-table.module.ts"],"sourcesContent":["import { Directive, Input, ContentChild, OnInit } from '@angular/core';\r\nimport { DataTableRow } from './row.component';\r\nimport { CellCallback } from './types';\r\n\r\n@Directive({\r\n  selector: 'data-table-column'\r\n})\r\nexport class DataTableColumn implements OnInit {\r\n  // init:\r\n  @Input() header: string;\r\n  @Input() sortable = false;\r\n  @Input() resizable = false;\r\n  @Input() property: string;\r\n  @Input() styleClass: string;\r\n  @Input() cellColors: CellCallback;\r\n\r\n  // init and state:\r\n  @Input() width: number | string;\r\n  @Input() visible = true;\r\n\r\n  @ContentChild('dataTableCell') cellTemplate;\r\n  @ContentChild('dataTableHeader') headerTemplate;\r\n\r\n  getCellColor(row: DataTableRow, index: number) {\r\n    if (this.cellColors !== undefined) {\r\n      return (<CellCallback>this.cellColors)(row.item, row, this, index);\r\n    }\r\n  }\r\n\r\n  private styleClassObject = {}; // for [ngClass]\r\n\r\n  ngOnInit() {\r\n    this._initCellClass();\r\n  }\r\n\r\n  private _initCellClass() {\r\n    if (!this.styleClass && this.property) {\r\n      if (/^[a-zA-Z0-9_]+$/.test(this.property)) {\r\n        this.styleClass = 'column-' + this.property;\r\n      } else {\r\n        this.styleClass =\r\n          'column-' + this.property.replace(/[^a-zA-Z0-9_]/g, '');\r\n      }\r\n    }\r\n\r\n    if (this.styleClass != null) {\r\n      this.styleClassObject = {\r\n        [this.styleClass]: true\r\n      };\r\n    }\r\n  }\r\n}\r\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\r\n\r\n\r\nfunction isBlank(obj: any): boolean {\r\n  return obj === undefined || obj === null;\r\n}\r\n\r\n@Directive({ selector: '[hide]', inputs: ['hide'] })\r\nexport class Hide {\r\n\r\n  private _prevCondition: boolean = null;\r\n  private _displayStyle: string;\r\n\r\n  constructor(private _elementRef: ElementRef, private _renderer: Renderer2) { }\r\n\r\n  set hide(newCondition: boolean) {\r\n    this.initDisplayStyle();\r\n\r\n    if (newCondition && (isBlank(this._prevCondition) || !this._prevCondition)) {\r\n      this._prevCondition = true;\r\n      this._renderer.setStyle(this._elementRef.nativeElement, 'display', 'none');\r\n    } else if (!newCondition && (isBlank(this._prevCondition) || this._prevCondition)) {\r\n      this._prevCondition = false;\r\n      this._renderer.setStyle(this._elementRef.nativeElement, 'display', this._displayStyle);\r\n    }\r\n  }\r\n\r\n  private initDisplayStyle() {\r\n    if (this._displayStyle === undefined) {\r\n      let displayStyle = this._elementRef.nativeElement.style.display;\r\n      if (displayStyle && displayStyle !== 'none') {\r\n        this._displayStyle = displayStyle;\r\n      }\r\n    }\r\n  }\r\n}\r\n","<tr\r\n  class=\"data-table-row\"\r\n  [title]=\"getTooltip()\"\r\n  [style.background-color]=\"dataTable.getRowColor(item, index, _this)\"\r\n  [class.row-odd]=\"index % 2 === 0\"\r\n  [class.row-even]=\"index % 2 === 1\"\r\n  [class.selected]=\"selected\"\r\n  [class.clickable]=\"dataTable.selectOnRowClick\"\r\n  (dblclick)=\"dataTable.rowDoubleClicked(_this, $event)\"\r\n  (click)=\"dataTable.rowClicked(_this, $event)\"\r\n>\r\n  <td\r\n    [hide]=\"!dataTable.expandColumnVisible\"\r\n    (click)=\"expanded = !expanded; $event.stopPropagation()\"\r\n    class=\"row-expand-button\"\r\n  >\r\n    <span class=\"fa fa-arrow-circle-o-right\" [hide]=\"expanded\"></span>\r\n    <span class=\"fa fa-arrow-circle-o-down\" [hide]=\"!expanded\"></span>\r\n  </td>\r\n  <td\r\n    [hide]=\"!dataTable.indexColumnVisible\"\r\n    class=\"index-column\"\r\n    [textContent]=\"displayIndex\"\r\n  ></td>\r\n  <td [hide]=\"!dataTable.selectColumnVisible\" class=\"select-column\">\r\n    <input type=\"checkbox\" [(ngModel)]=\"selected\" />\r\n  </td>\r\n  <td\r\n    *ngFor=\"let column of dataTable.columns\"\r\n    [hide]=\"!column.visible\"\r\n    [ngClass]=\"column.styleClassObject\"\r\n    class=\"data-column\"\r\n    [style.background-color]=\"column.getCellColor(_this, index)\"\r\n  >\r\n    <div\r\n      *ngIf=\"!column.cellTemplate\"\r\n      [textContent]=\"item[column.property]\"\r\n    ></div>\r\n    <div\r\n      *ngIf=\"column.cellTemplate\"\r\n      [ngTemplateOutlet]=\"column.cellTemplate\"\r\n      [ngTemplateOutletContext]=\"{ column: column, row: _this, item: item }\"\r\n    ></div>\r\n  </td>\r\n</tr>\r\n<tr *ngIf=\"dataTable.expandableRows\" [hide]=\"!expanded\" class=\"row-expansion\">\r\n  <td [attr.colspan]=\"dataTable.columnCount\">\r\n    <div\r\n      [ngTemplateOutlet]=\"dataTable.expandTemplate\"\r\n      [ngTemplateOutletContext]=\"{ row: _this, item: item }\"\r\n    ></div>\r\n  </td>\r\n</tr>\r\n","import {\r\n  Component,\r\n  Input,\r\n  Inject,\r\n  forwardRef,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { DataTable } from './table.component';\r\n\r\n@Component({\r\n  selector: '[dataTableRow]',\r\n  templateUrl: './row.html',\r\n  styleUrls: ['./row.css']\r\n})\r\nexport class DataTableRow implements OnDestroy {\r\n  @Input() item: any;\r\n  @Input() index: number;\r\n\r\n  expanded: boolean;\r\n\r\n  // row selection:\r\n\r\n  private _selected: boolean;\r\n\r\n  @Output() selectedChange = new EventEmitter();\r\n\r\n  get selected() {\r\n    return this._selected;\r\n  }\r\n\r\n  set selected(selected) {\r\n    this._selected = selected;\r\n    this.selectedChange.emit(selected);\r\n  }\r\n\r\n  // other:\r\n\r\n  get displayIndex() {\r\n    if (this.dataTable.pagination) {\r\n      return this.dataTable.displayParams.offset + this.index + 1;\r\n    } else {\r\n      return this.index + 1;\r\n    }\r\n  }\r\n\r\n  getTooltip() {\r\n    if (this.dataTable.rowTooltip) {\r\n      return this.dataTable.rowTooltip(this.item, this, this.index);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  constructor(\r\n    @Inject(forwardRef(() => DataTable)) public dataTable: DataTable\r\n  ) {}\r\n\r\n  ngOnDestroy() {\r\n    this.selected = false;\r\n  }\r\n\r\n  public _this = this; // FIXME is there no template keyword for this in angular 2?\r\n}\r\n","import { DataTableRow } from './row.component';\r\nimport { DataTableColumn } from './column.component';\r\n\r\n\r\nexport type RowCallback = (item: any, row: DataTableRow, index: number) => string;\r\n\r\nexport type CellCallback = (item: any, row: DataTableRow, column: DataTableColumn, index: number) => string;\r\n\r\n// export type HeaderCallback = (column: DataTableColumn) => string;\r\n\r\n\r\nexport interface DataTableTranslations {\r\n    indexColumn: string;\r\n    selectColumn: string;\r\n    expandColumn: string;\r\n    paginationLimit: string;\r\n    paginationRange: string;\r\n}\r\n\r\nexport var defaultTranslations = <DataTableTranslations>{\r\n    indexColumn: 'index',\r\n    selectColumn: 'select',\r\n    expandColumn: 'expand',\r\n    paginationLimit: 'Limit',\r\n    paginationRange: 'Results'\r\n};\r\n\r\n\r\nexport interface DataTableParams {\r\n    offset?: number;\r\n    limit?: number;\r\n    sortBy?: string;\r\n    sortAsc?: boolean;\r\n}\r\n","\r\nexport type MoveHandler = (event: MouseEvent, dx: number, dy: number, x: number, y: number) => void;\r\nexport type UpHandler = (event: MouseEvent, x: number, y: number, moved: boolean) => void;\r\n\r\nexport function drag(event: MouseEvent, { move: move, up: up}: {move: MoveHandler, up?: UpHandler}) {\r\n\r\n    let startX = event.pageX;\r\n    let startY = event.pageY;\r\n    let x = startX;\r\n    let y = startY;\r\n    let moved = false;\r\n\r\n    function mouseMoveHandler(event: MouseEvent) {\r\n        let dx = event.pageX - x;\r\n        let dy = event.pageY  - y;\r\n        x = event.pageX;\r\n        y = event.pageY;\r\n        if (dx || dy) moved = true;\r\n\r\n        move(event, dx, dy, x, y);\r\n\r\n        event.preventDefault(); // to avoid text selection\r\n    }\r\n\r\n    function mouseUpHandler(event: MouseEvent) {\r\n        x = event.pageX;\r\n        y = event.pageY;\r\n\r\n        document.removeEventListener('mousemove', mouseMoveHandler);\r\n        document.removeEventListener('mouseup', mouseUpHandler);\r\n\r\n        if (up) up(event, x, y, moved);\r\n    }\r\n\r\n    document.addEventListener('mousemove', mouseMoveHandler);\r\n    document.addEventListener('mouseup', mouseUpHandler);\r\n}\r\n","<div class=\"data-table-wrapper\">\r\n  <data-table-header *ngIf=\"header\"></data-table-header>\r\n\r\n  <div class=\"data-table-box\">\r\n    <table class=\"table table-condensed data-table\">\r\n      <thead>\r\n        <tr>\r\n          <th [hide]=\"!expandColumnVisible\" class=\"expand-column-header\"></th>\r\n          <th [hide]=\"!indexColumnVisible\" class=\"index-column-header\">\r\n            <span [textContent]=\"indexColumnHeader\"></span>\r\n          </th>\r\n          <th [hide]=\"!selectColumnVisible\" class=\"select-column-header\">\r\n            <input\r\n              [hide]=\"!multiSelect\"\r\n              type=\"checkbox\"\r\n              [(ngModel)]=\"selectAllCheckbox\"\r\n            />\r\n          </th>\r\n          <th\r\n            *ngFor=\"let column of columns\"\r\n            #th\r\n            [hide]=\"!column.visible\"\r\n            (click)=\"headerClicked(column, $event)\"\r\n            [class.sortable]=\"column.sortable\"\r\n            [class.resizable]=\"column.resizable\"\r\n            [ngClass]=\"column.styleClassObject\"\r\n            class=\"column-header\"\r\n            [style.width]=\"column.width | px\"\r\n          >\r\n            <span\r\n              *ngIf=\"!column.headerTemplate\"\r\n              [textContent]=\"column.header\"\r\n            ></span>\r\n            <span\r\n              *ngIf=\"column.headerTemplate\"\r\n              [ngTemplateOutlet]=\"column.headerTemplate\"\r\n              [ngTemplateOutletContext]=\"{ column: column }\"\r\n            ></span>\r\n            <span class=\"column-sort-icon\" *ngIf=\"column.sortable\">\r\n              <i\r\n                class=\"fa fa-sort column-sortable-icon\"\r\n                [hide]=\"column.property === sortBy\"\r\n              ></i>\r\n              <span [hide]=\"column.property !== sortBy\">\r\n                <i class=\"fa fa-sort-asc\" [hide]=\"sortAsc\"></i>\r\n                <i class=\"fa fa-sort-desc\" [hide]=\"!sortAsc\"></i>\r\n              </span>\r\n            </span>\r\n            <span\r\n              *ngIf=\"column.resizable\"\r\n              class=\"column-resize-handle\"\r\n              (mousedown)=\"resizeColumnStart($event, column, th)\"\r\n            ></span>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody\r\n        *ngFor=\"let item of items; let index = index\"\r\n        class=\"data-table-row-wrapper\"\r\n        dataTableRow\r\n        #row\r\n        [item]=\"item\"\r\n        [index]=\"index\"\r\n        (selectedChange)=\"onRowSelectChanged(row)\"\r\n      ></tbody>\r\n      <tbody class=\"substitute-rows\" *ngIf=\"pagination && substituteRows\">\r\n        <tr\r\n          *ngFor=\"let item of substituteItems; let index = index\"\r\n          [class.row-odd]=\"(index + items.length) % 2 === 0\"\r\n          [class.row-even]=\"(index + items.length) % 2 === 1\"\r\n        >\r\n          <td [hide]=\"!expandColumnVisible\"></td>\r\n          <td [hide]=\"!indexColumnVisible\">&nbsp;</td>\r\n          <td [hide]=\"!selectColumnVisible\"></td>\r\n          <td *ngFor=\"let column of columns\" [hide]=\"!column.visible\"></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"loading-cover\" *ngIf=\"showReloading && reloading\"></div>\r\n  </div>\r\n\r\n  <data-table-pagination *ngIf=\"pagination\"></data-table-pagination>\r\n</div>\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ContentChildren,\r\n  QueryList,\r\n  TemplateRef,\r\n  ContentChild,\r\n  ViewChildren,\r\n  OnInit\r\n} from '@angular/core';\r\nimport { DataTableColumn } from './column.component';\r\nimport { DataTableRow } from './row.component';\r\nimport { DataTableParams } from './types';\r\nimport { RowCallback } from './types';\r\nimport { DataTableTranslations, defaultTranslations } from './types';\r\nimport { drag } from '../utils/drag';\r\n\r\n@Component({\r\n  selector: 'data-table',\r\n  templateUrl: './table.html',\r\n  styleUrls: ['./table.css']\r\n})\r\nexport class DataTable implements DataTableParams, OnInit {\r\n  private _items: any[] = [];\r\n\r\n  @Input() get items() {\r\n    return this._items;\r\n  }\r\n\r\n  set items(items: any[]) {\r\n    this._items = items;\r\n    this._onReloadFinished();\r\n  }\r\n\r\n  @Input() itemCount: number;\r\n\r\n  // UI components:\r\n\r\n  @ContentChildren(DataTableColumn) columns: QueryList<DataTableColumn>;\r\n  @ViewChildren(DataTableRow) rows: QueryList<DataTableRow>;\r\n  @ContentChild('dataTableExpand')\r\n  expandTemplate: TemplateRef<any>;\r\n\r\n  // One-time optional bindings with default values:\r\n\r\n  @Input() headerTitle: string;\r\n  @Input() header = true;\r\n  @Input() pagination = true;\r\n  @Input() indexColumn = true;\r\n  @Input() indexColumnHeader = '';\r\n  @Input() rowColors: RowCallback;\r\n  @Input() rowTooltip: RowCallback;\r\n  @Input() selectColumn = false;\r\n  @Input() multiSelect = true;\r\n  @Input() substituteRows = true;\r\n  @Input() expandableRows = false;\r\n  @Input() translations: DataTableTranslations = defaultTranslations;\r\n  @Input() selectOnRowClick = false;\r\n  @Input() autoReload = true;\r\n  @Input() showReloading = false;\r\n\r\n  // UI state without input:\r\n\r\n  indexColumnVisible: boolean;\r\n  selectColumnVisible: boolean;\r\n  expandColumnVisible: boolean;\r\n\r\n  // UI state: visible ge/set for the outside with @Input for one-time initial values\r\n\r\n  private _sortBy: string;\r\n  private _sortAsc = true;\r\n\r\n  private _offset = 0;\r\n  private _limit = 10;\r\n\r\n  @Input()\r\n  get sortBy() {\r\n    return this._sortBy;\r\n  }\r\n\r\n  set sortBy(value) {\r\n    this._sortBy = value;\r\n    this._triggerReload();\r\n  }\r\n\r\n  @Input()\r\n  get sortAsc() {\r\n    return this._sortAsc;\r\n  }\r\n\r\n  set sortAsc(value) {\r\n    this._sortAsc = value;\r\n    this._triggerReload();\r\n  }\r\n\r\n  @Input()\r\n  get offset() {\r\n    return this._offset;\r\n  }\r\n\r\n  set offset(value) {\r\n    this._offset = value;\r\n    this._triggerReload();\r\n  }\r\n\r\n  @Input()\r\n  get limit() {\r\n    return this._limit;\r\n  }\r\n\r\n  set limit(value) {\r\n    this._limit = value;\r\n    this._triggerReload();\r\n  }\r\n\r\n  // calculated property:\r\n\r\n  @Input()\r\n  get page() {\r\n    return Math.floor(this.offset / this.limit) + 1;\r\n  }\r\n\r\n  set page(value) {\r\n    this.offset = (value - 1) * this.limit;\r\n  }\r\n\r\n  get lastPage() {\r\n    return Math.ceil(this.itemCount / this.limit);\r\n  }\r\n\r\n  // setting multiple observable properties simultaneously\r\n\r\n  sort(sortBy: string, asc: boolean) {\r\n    this.sortBy = sortBy;\r\n    this.sortAsc = asc;\r\n  }\r\n\r\n  // init\r\n\r\n  ngOnInit() {\r\n    this._initDefaultValues();\r\n    this._initDefaultClickEvents();\r\n    this._updateDisplayParams();\r\n\r\n    if (this.autoReload && this._scheduledReload == null) {\r\n      this.reloadItems();\r\n    }\r\n  }\r\n\r\n  private _initDefaultValues() {\r\n    this.indexColumnVisible = this.indexColumn;\r\n    this.selectColumnVisible = this.selectColumn;\r\n    this.expandColumnVisible = this.expandableRows;\r\n  }\r\n\r\n  private _initDefaultClickEvents() {\r\n    this.headerClick.subscribe(tableEvent =>\r\n      this.sortColumn(tableEvent.column)\r\n    );\r\n    if (this.selectOnRowClick) {\r\n      this.rowClick.subscribe(\r\n        tableEvent => (tableEvent.row.selected = !tableEvent.row.selected)\r\n      );\r\n    }\r\n  }\r\n\r\n  // Reloading:\r\n\r\n  _reloading = false;\r\n\r\n  get reloading() {\r\n    return this._reloading;\r\n  }\r\n\r\n  @Output() reload = new EventEmitter();\r\n\r\n  reloadItems() {\r\n    this._reloading = true;\r\n    this.reload.emit(this._getRemoteParameters());\r\n  }\r\n\r\n  private _onReloadFinished() {\r\n    this._updateDisplayParams();\r\n\r\n    this._selectAllCheckbox = false;\r\n    this._reloading = false;\r\n  }\r\n\r\n  _displayParams = <DataTableParams>{}; // params of the last finished reload\r\n\r\n  get displayParams() {\r\n    return this._displayParams;\r\n  }\r\n\r\n  _updateDisplayParams() {\r\n    this._displayParams = {\r\n      sortBy: this.sortBy,\r\n      sortAsc: this.sortAsc,\r\n      offset: this.offset,\r\n      limit: this.limit\r\n    };\r\n  }\r\n\r\n  _scheduledReload = null;\r\n\r\n  // for avoiding cascading reloads if multiple params are set at once:\r\n  _triggerReload() {\r\n    if (this._scheduledReload) {\r\n      clearTimeout(this._scheduledReload);\r\n    }\r\n    this._scheduledReload = setTimeout(() => {\r\n      this.reloadItems();\r\n    });\r\n  }\r\n\r\n  // event handlers:\r\n\r\n  @Output() rowClick = new EventEmitter();\r\n  @Output() rowDoubleClick = new EventEmitter();\r\n  @Output() headerClick = new EventEmitter();\r\n  @Output() cellClick = new EventEmitter();\r\n\r\n  public rowClicked(row: DataTableRow, event) {\r\n    this.rowClick.emit({ row, event });\r\n  }\r\n\r\n  public rowDoubleClicked(row: DataTableRow, event) {\r\n    this.rowDoubleClick.emit({ row, event });\r\n  }\r\n\r\n  public headerClicked(column: DataTableColumn, event: MouseEvent) {\r\n    if (!this._resizeInProgress) {\r\n      this.headerClick.emit({ column, event });\r\n    } else {\r\n      this._resizeInProgress = false; // this is because I can't prevent click from mousup of the drag end\r\n    }\r\n  }\r\n\r\n  private cellClicked(\r\n    column: DataTableColumn,\r\n    row: DataTableRow,\r\n    event: MouseEvent\r\n  ) {\r\n    this.cellClick.emit({ row, column, event });\r\n  }\r\n\r\n  // functions:\r\n\r\n  private _getRemoteParameters(): DataTableParams {\r\n    let params = <DataTableParams>{};\r\n\r\n    if (this.sortBy) {\r\n      params.sortBy = this.sortBy;\r\n      params.sortAsc = this.sortAsc;\r\n    }\r\n    if (this.pagination) {\r\n      params.offset = this.offset;\r\n      params.limit = this.limit;\r\n    }\r\n    return params;\r\n  }\r\n\r\n  private sortColumn(column: DataTableColumn) {\r\n    if (column.sortable) {\r\n      let ascending = this.sortBy === column.property ? !this.sortAsc : true;\r\n      this.sort(column.property, ascending);\r\n    }\r\n  }\r\n\r\n  get columnCount() {\r\n    let count = 0;\r\n    count += this.indexColumnVisible ? 1 : 0;\r\n    count += this.selectColumnVisible ? 1 : 0;\r\n    count += this.expandColumnVisible ? 1 : 0;\r\n    this.columns.toArray().forEach(column => {\r\n      count += column.visible ? 1 : 0;\r\n    });\r\n    return count;\r\n  }\r\n\r\n  public getRowColor(item: any, index: number, row: DataTableRow) {\r\n    if (this.rowColors !== undefined) {\r\n      return (<RowCallback>this.rowColors)(item, row, index);\r\n    }\r\n  }\r\n\r\n  // selection:\r\n\r\n  selectedRow: DataTableRow;\r\n  selectedRows: DataTableRow[] = [];\r\n\r\n  private _selectAllCheckbox = false;\r\n\r\n  get selectAllCheckbox() {\r\n    return this._selectAllCheckbox;\r\n  }\r\n\r\n  set selectAllCheckbox(value) {\r\n    this._selectAllCheckbox = value;\r\n    this._onSelectAllChanged(value);\r\n  }\r\n\r\n  private _onSelectAllChanged(value: boolean) {\r\n    this.rows.toArray().forEach(row => (row.selected = value));\r\n  }\r\n\r\n  onRowSelectChanged(row: DataTableRow) {\r\n    // maintain the selectedRow(s) view\r\n    if (this.multiSelect) {\r\n      let index = this.selectedRows.indexOf(row);\r\n      if (row.selected && index < 0) {\r\n        this.selectedRows.push(row);\r\n      } else if (!row.selected && index >= 0) {\r\n        this.selectedRows.splice(index, 1);\r\n      }\r\n    } else {\r\n      if (row.selected) {\r\n        this.selectedRow = row;\r\n      } else if (this.selectedRow === row) {\r\n        this.selectedRow = undefined;\r\n      }\r\n    }\r\n\r\n    // unselect all other rows:\r\n    if (row.selected && !this.multiSelect) {\r\n      this.rows\r\n        .toArray()\r\n        .filter(row_ => row_.selected)\r\n        .forEach(row_ => {\r\n          if (row_ !== row) {\r\n            // avoid endless loop\r\n            row_.selected = false;\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  // other:\r\n\r\n  get substituteItems() {\r\n    return Array.from({ length: this.displayParams.limit - this.items.length });\r\n  }\r\n\r\n  // column resizing:\r\n\r\n  private _resizeInProgress = false;\r\n\r\n  public resizeColumnStart(\r\n    event: MouseEvent,\r\n    column: DataTableColumn,\r\n    columnElement: HTMLElement\r\n  ) {\r\n    this._resizeInProgress = true;\r\n\r\n    drag(event, {\r\n      move: (moveEvent: MouseEvent, dx: number) => {\r\n        if (this._isResizeInLimit(columnElement, dx)) {\r\n          column.width = columnElement.offsetWidth + dx;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  resizeLimit = 30;\r\n\r\n  private _isResizeInLimit(columnElement: HTMLElement, dx: number) {\r\n    /* This is needed because CSS min-width didn't work on table-layout: fixed.\r\n         Without the limits, resizing can make the next column disappear completely,\r\n         and even increase the table width. The current implementation suffers from the fact,\r\n         that offsetWidth sometimes contains out-of-date values. */\r\n    if (\r\n      (dx < 0 && columnElement.offsetWidth + dx <= this.resizeLimit) ||\r\n      !columnElement.nextElementSibling || // resizing doesn't make sense for the last visible column\r\n      (dx >= 0 &&\r\n        (<HTMLElement>columnElement.nextElementSibling).offsetWidth + dx <=\r\n          this.resizeLimit)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'min'\r\n})\r\nexport class MinPipe implements PipeTransform {\r\n  transform(value: number[]): any {\r\n    return Math.min.apply(null, value);\r\n  }\r\n}\r\n","import { Component, Inject, forwardRef } from '@angular/core';\r\nimport { DataTable } from './table.component';\r\n\r\n@Component({\r\n  selector: 'data-table-pagination',\r\n  templateUrl: './pagination.html',\r\n  styleUrls: ['./pagination.css']\r\n})\r\nexport class DataTablePagination {\r\n  constructor(\r\n    @Inject(forwardRef(() => DataTable)) public dataTable: DataTable\r\n  ) {}\r\n\r\n  pageBack() {\r\n    this.dataTable.offset -= Math.min(\r\n      this.dataTable.limit,\r\n      this.dataTable.offset\r\n    );\r\n  }\r\n\r\n  pageForward() {\r\n    this.dataTable.offset += this.dataTable.limit;\r\n  }\r\n\r\n  pageFirst() {\r\n    this.dataTable.offset = 0;\r\n  }\r\n\r\n  pageLast() {\r\n    this.dataTable.offset = (this.maxPage - 1) * this.dataTable.limit;\r\n  }\r\n\r\n  get maxPage() {\r\n    return Math.ceil(this.dataTable.itemCount / this.dataTable.limit);\r\n  }\r\n\r\n  get limit() {\r\n    return this.dataTable.limit;\r\n  }\r\n\r\n  set limit(value) {\r\n    this.dataTable.limit = Number(<any>value); // TODO better way to handle that value of number <input> is string?\r\n  }\r\n\r\n  get page() {\r\n    return this.dataTable.page;\r\n  }\r\n\r\n  set page(value) {\r\n    this.dataTable.page = Number(<any>value);\r\n  }\r\n}\r\n","<div class=\"pagination-box\">\r\n  <div class=\"pagination-range\">\r\n    {{ dataTable.translations.paginationRange }}:\r\n    <span [textContent]=\"dataTable.offset + 1\"></span>\r\n    -\r\n    <span\r\n      [textContent]=\"\r\n        [dataTable.offset + dataTable.limit, dataTable.itemCount] | min\r\n      \"\r\n    ></span>\r\n    /\r\n    <span [textContent]=\"dataTable.itemCount\"></span>\r\n  </div>\r\n  <div class=\"pagination-controllers\">\r\n    <div class=\"pagination-limit\">\r\n      <div class=\"input-group\">\r\n        <span class=\"input-group-addon\"\r\n          >{{ dataTable.translations.paginationLimit }}:</span\r\n        >\r\n        <input\r\n          #limitInput\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          min=\"1\"\r\n          step=\"1\"\r\n          [ngModel]=\"limit\"\r\n          (blur)=\"limit = limitInput.value\"\r\n          (keyup.enter)=\"limit = limitInput.value\"\r\n          (keyup.esc)=\"limitInput.value = limit\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\" pagination-pages\">\r\n      <button\r\n        [disabled]=\"dataTable.offset <= 0\"\r\n        (click)=\"pageFirst()\"\r\n        class=\"btn btn-default pagination-firstpage\"\r\n      >\r\n        &laquo;\r\n      </button>\r\n      <button\r\n        [disabled]=\"dataTable.offset <= 0\"\r\n        (click)=\"pageBack()\"\r\n        class=\"btn btn-default pagination-prevpage\"\r\n      >\r\n        &lsaquo;\r\n      </button>\r\n      <div class=\"pagination-page\">\r\n        <div class=\"input-group\">\r\n          <input\r\n            #pageInput\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            min=\"1\"\r\n            step=\"1\"\r\n            max=\"{{ maxPage }}\"\r\n            [ngModel]=\"page\"\r\n            (blur)=\"page = pageInput.value\"\r\n            (keyup.enter)=\"page = pageInput.value\"\r\n            (keyup.esc)=\"pageInput.value = page\"\r\n          />\r\n          <div class=\"input-group-addon\">\r\n            <span>/</span>\r\n            <span [textContent]=\"dataTable.lastPage\"></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button\r\n        [disabled]=\"dataTable.offset + dataTable.limit >= dataTable.itemCount\"\r\n        (click)=\"pageForward()\"\r\n        class=\"btn btn-default pagination-nextpage\"\r\n      >\r\n        &rsaquo;\r\n      </button>\r\n      <button\r\n        [disabled]=\"dataTable.offset + dataTable.limit >= dataTable.itemCount\"\r\n        (click)=\"pageLast()\"\r\n        class=\"btn btn-default pagination-lastpage\"\r\n      >\r\n        &raquo;\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","<div class=\"data-table-header\">\r\n  <h4 class=\"title\" [textContent]=\"dataTable.headerTitle\"></h4>\r\n  <div class=\"button-panel\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-default btn-sm refresh-button\"\r\n      (click)=\"dataTable.reloadItems()\"\r\n    >\r\n      <i class=\"fa fa-refresh\"></i>\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-default btn-sm column-selector-button\"\r\n      [class.active]=\"columnSelectorOpen\"\r\n      (click)=\"\r\n        columnSelectorOpen = !columnSelectorOpen; $event.stopPropagation()\r\n      \"\r\n    >\r\n      <i class=\"fa fa-list\"></i>\r\n    </button>\r\n    <div class=\"column-selector-wrapper\" (click)=\"$event.stopPropagation()\">\r\n      <div *ngIf=\"columnSelectorOpen\" class=\"column-selector-box card\">\r\n        <div\r\n          *ngIf=\"dataTable.expandableRows\"\r\n          class=\"column-selector-fixed-column checkbox\"\r\n        >\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              [(ngModel)]=\"dataTable.expandColumnVisible\"\r\n            />\r\n            <span>{{ dataTable.translations.expandColumn }}</span>\r\n          </label>\r\n        </div>\r\n        <div\r\n          *ngIf=\"dataTable.indexColumn\"\r\n          class=\"column-selector-fixed-column checkbox\"\r\n        >\r\n          <label>\r\n            <input type=\"checkbox\" [(ngModel)]=\"dataTable.indexColumnVisible\" />\r\n            <span>{{ dataTable.translations.indexColumn }}</span>\r\n          </label>\r\n        </div>\r\n        <div\r\n          *ngIf=\"dataTable.selectColumn\"\r\n          class=\"column-selector-fixed-column checkbox\"\r\n        >\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              [(ngModel)]=\"dataTable.selectColumnVisible\"\r\n            />\r\n            <span>{{ dataTable.translations.selectColumn }}</span>\r\n          </label>\r\n        </div>\r\n        <div\r\n          *ngFor=\"let column of dataTable.columns\"\r\n          class=\"column-selector-column checkbox\"\r\n        >\r\n          <label>\r\n            <input type=\"checkbox\" [(ngModel)]=\"column.visible\" />\r\n            <span [textContent]=\"column.header\"></span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Inject, forwardRef } from '@angular/core';\r\nimport { DataTable } from './table.component';\r\n\r\n@Component({\r\n  selector: 'data-table-header',\r\n  templateUrl: './header.html',\r\n  styleUrls: ['./header.css'],\r\n  host: {\r\n    '(document:click)': '_closeSelector()'\r\n  }\r\n})\r\nexport class DataTableHeader {\r\n  columnSelectorOpen = false;\r\n\r\n  _closeSelector() {\r\n    this.columnSelectorOpen = false;\r\n  }\r\n\r\n  constructor(\r\n    @Inject(forwardRef(() => DataTable)) public dataTable: DataTable\r\n  ) {}\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'px'\r\n})\r\nexport class PixelConverter implements PipeTransform {\r\n  transform(value: string | number): any {\r\n    if (value === undefined) {\r\n      return;\r\n    }\r\n    if (typeof value === 'string') {\r\n      return value;\r\n    }\r\n    if (typeof value === 'number') {\r\n      return value + 'px';\r\n    }\r\n  }\r\n}\r\n","import { DataTableParams } from '../components/types';\r\n\r\n\r\nexport class DataTableResource<T> {\r\n\r\n    constructor(private items: T[]) {}\r\n\r\n    query(params: DataTableParams, filter?: (item: T, index: number, items: T[]) => boolean): Promise<T[]> {\r\n\r\n        let result: T[] = [];\r\n        if (filter) {\r\n            result = this.items.filter(filter);\r\n        } else {\r\n            result = this.items.slice(); // shallow copy to use for sorting instead of changing the original\r\n        }\r\n\r\n        if (params.sortBy) {\r\n            result.sort((a, b) => {\r\n                if (typeof a[params.sortBy] === 'string') {\r\n                    return a[params.sortBy].localeCompare(b[params.sortBy]);\r\n                } else {\r\n                    return a[params.sortBy] - b[params.sortBy];\r\n                }\r\n            });\r\n            if (params.sortAsc === false) {\r\n                result.reverse();\r\n            }\r\n        }\r\n        if (params.offset !== undefined) {\r\n            if (params.limit === undefined) {\r\n                result = result.slice(params.offset, result.length);\r\n            } else {\r\n                result = result.slice(params.offset, params.offset + params.limit);\r\n            }\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => resolve(result));\r\n        });\r\n    }\r\n\r\n    count(): Promise<number> {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => resolve(this.items.length));\r\n        });\r\n\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { DataTable } from './components/table.component';\r\nimport { DataTableColumn } from './components/column.component';\r\nimport { DataTableRow } from './components/row.component';\r\nimport { DataTablePagination } from './components/pagination.component';\r\nimport { DataTableHeader } from './components/header.component';\r\n\r\nimport { PixelConverter } from './utils/px';\r\nimport { Hide } from './utils/hide';\r\nimport { MinPipe } from './utils/min';\r\n\r\nexport * from './components/types';\r\nexport * from './tools/data-table-resource';\r\n\r\nexport {\r\n  DataTable,\r\n  DataTableColumn,\r\n  DataTableRow,\r\n  DataTablePagination,\r\n  DataTableHeader\r\n};\r\nexport const DATA_TABLE_DIRECTIVES = [DataTable, DataTableColumn];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule],\r\n  declarations: [\r\n    DataTable,\r\n    DataTableColumn,\r\n    DataTableRow,\r\n    DataTablePagination,\r\n    DataTableHeader,\r\n    PixelConverter,\r\n    Hide,\r\n    MinPipe\r\n  ],\r\n  exports: [DataTable, DataTableColumn]\r\n})\r\nexport class DataTableModule {}\r\n"],"names":["Directive","Input","ContentChild","i0.ɵɵelement","i0.ɵɵproperty","i0.ɵɵelementStart","i0.ɵɵtemplate","i0.ɵɵelementEnd","i0.ɵɵstyleProp","i0.ɵɵadvance","i0.ɵɵattribute","EventEmitter","forwardRef","i0.ɵɵlistener","i0.ɵɵclassProp","Component","Inject","Output","i0.ɵɵtext","ContentChildren","ViewChildren","Pipe","i0.ɵɵtextInterpolate1","i0.ɵɵpropertyInterpolate","i0.ɵɵtextInterpolate","CommonModule","FormsModule","NgModule"],"mappings":"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"}