{"version":3,"file":"angular-bootstrap-data-table.js","sources":["ng://angular-bootstrap-data-table/lib/components/column.component.ts","ng://angular-bootstrap-data-table/lib/utils/hide.ts","ng://angular-bootstrap-data-table/lib/components/row.html","ng://angular-bootstrap-data-table/lib/components/row.component.ts","ng://angular-bootstrap-data-table/lib/components/types.ts","ng://angular-bootstrap-data-table/lib/utils/drag.ts","ng://angular-bootstrap-data-table/lib/components/table.html","ng://angular-bootstrap-data-table/lib/components/table.component.ts","ng://angular-bootstrap-data-table/lib/utils/min.ts","ng://angular-bootstrap-data-table/lib/components/pagination.component.ts","ng://angular-bootstrap-data-table/lib/components/pagination.html","ng://angular-bootstrap-data-table/lib/components/header.html","ng://angular-bootstrap-data-table/lib/components/header.component.ts","ng://angular-bootstrap-data-table/lib/utils/px.ts","ng://angular-bootstrap-data-table/lib/tools/data-table-resource.ts","ng://angular-bootstrap-data-table/lib/angular-bootstrap-data-table.module.ts","ng://angular-bootstrap-data-table/public-api.ts","ng://angular-bootstrap-data-table/angular-bootstrap-data-table.ts"],"sourcesContent":["import { Directive, Input, ContentChild, OnInit } from '@angular/core';\r\nimport { DataTableRow } from './row.component';\r\nimport { CellCallback } from './types';\r\n\r\n@Directive({\r\n  selector: 'data-table-column'\r\n})\r\nexport class DataTableColumn implements OnInit {\r\n  // init:\r\n  @Input() header: string;\r\n  @Input() sortable = false;\r\n  @Input() resizable = false;\r\n  @Input() property: string;\r\n  @Input() styleClass: string;\r\n  @Input() cellColors: CellCallback;\r\n\r\n  // init and state:\r\n  @Input() width: number | string;\r\n  @Input() visible = true;\r\n\r\n  @ContentChild('dataTableCell') cellTemplate;\r\n  @ContentChild('dataTableHeader') headerTemplate;\r\n\r\n  getCellColor(row: DataTableRow, index: number) {\r\n    if (this.cellColors !== undefined) {\r\n      return (<CellCallback>this.cellColors)(row.item, row, this, index);\r\n    }\r\n  }\r\n\r\n  private styleClassObject = {}; // for [ngClass]\r\n\r\n  ngOnInit() {\r\n    this._initCellClass();\r\n  }\r\n\r\n  private _initCellClass() {\r\n    if (!this.styleClass && this.property) {\r\n      if (/^[a-zA-Z0-9_]+$/.test(this.property)) {\r\n        this.styleClass = 'column-' + this.property;\r\n      } else {\r\n        this.styleClass =\r\n          'column-' + this.property.replace(/[^a-zA-Z0-9_]/g, '');\r\n      }\r\n    }\r\n\r\n    if (this.styleClass != null) {\r\n      this.styleClassObject = {\r\n        [this.styleClass]: true\r\n      };\r\n    }\r\n  }\r\n}\r\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\r\n\r\n\r\nfunction isBlank(obj: any): boolean {\r\n  return obj === undefined || obj === null;\r\n}\r\n\r\n@Directive({ selector: '[hide]', inputs: ['hide'] })\r\nexport class Hide {\r\n\r\n  private _prevCondition: boolean = null;\r\n  private _displayStyle: string;\r\n\r\n  constructor(private _elementRef: ElementRef, private _renderer: Renderer2) { }\r\n\r\n  set hide(newCondition: boolean) {\r\n    this.initDisplayStyle();\r\n\r\n    if (newCondition && (isBlank(this._prevCondition) || !this._prevCondition)) {\r\n      this._prevCondition = true;\r\n      this._renderer.setStyle(this._elementRef.nativeElement, 'display', 'none');\r\n    } else if (!newCondition && (isBlank(this._prevCondition) || this._prevCondition)) {\r\n      this._prevCondition = false;\r\n      this._renderer.setStyle(this._elementRef.nativeElement, 'display', this._displayStyle);\r\n    }\r\n  }\r\n\r\n  private initDisplayStyle() {\r\n    if (this._displayStyle === undefined) {\r\n      let displayStyle = this._elementRef.nativeElement.style.display;\r\n      if (displayStyle && displayStyle !== 'none') {\r\n        this._displayStyle = displayStyle;\r\n      }\r\n    }\r\n  }\r\n}\r\n","<tr\r\n  class=\"data-table-row\"\r\n  [title]=\"getTooltip()\"\r\n  [style.background-color]=\"dataTable.getRowColor(item, index, _this)\"\r\n  [class.row-odd]=\"index % 2 === 0\"\r\n  [class.row-even]=\"index % 2 === 1\"\r\n  [class.selected]=\"selected\"\r\n  [class.clickable]=\"dataTable.selectOnRowClick\"\r\n  (dblclick)=\"dataTable.rowDoubleClicked(_this, $event)\"\r\n  (click)=\"dataTable.rowClicked(_this, $event)\"\r\n>\r\n  <td\r\n    [hide]=\"!dataTable.expandColumnVisible\"\r\n    (click)=\"expanded = !expanded; $event.stopPropagation()\"\r\n    class=\"row-expand-button\"\r\n  >\r\n    <span class=\"fa fa-arrow-circle-o-right\" [hide]=\"expanded\"></span>\r\n    <span class=\"fa fa-arrow-circle-o-down\" [hide]=\"!expanded\"></span>\r\n  </td>\r\n  <td\r\n    [hide]=\"!dataTable.indexColumnVisible\"\r\n    class=\"index-column\"\r\n    [textContent]=\"displayIndex\"\r\n  ></td>\r\n  <td [hide]=\"!dataTable.selectColumnVisible\" class=\"select-column\">\r\n    <input type=\"checkbox\" [(ngModel)]=\"selected\" />\r\n  </td>\r\n  <td\r\n    *ngFor=\"let column of dataTable.columns\"\r\n    [hide]=\"!column.visible\"\r\n    [ngClass]=\"column.styleClassObject\"\r\n    class=\"data-column\"\r\n    [style.background-color]=\"column.getCellColor(_this, index)\"\r\n  >\r\n    <div\r\n      *ngIf=\"!column.cellTemplate\"\r\n      [textContent]=\"item[column.property]\"\r\n    ></div>\r\n    <div\r\n      *ngIf=\"column.cellTemplate\"\r\n      [ngTemplateOutlet]=\"column.cellTemplate\"\r\n      [ngTemplateOutletContext]=\"{ column: column, row: _this, item: item }\"\r\n    ></div>\r\n  </td>\r\n</tr>\r\n<tr *ngIf=\"dataTable.expandableRows\" [hide]=\"!expanded\" class=\"row-expansion\">\r\n  <td [attr.colspan]=\"dataTable.columnCount\">\r\n    <div\r\n      [ngTemplateOutlet]=\"dataTable.expandTemplate\"\r\n      [ngTemplateOutletContext]=\"{ row: _this, item: item }\"\r\n    ></div>\r\n  </td>\r\n</tr>\r\n","import {\r\n  Component,\r\n  Input,\r\n  Inject,\r\n  forwardRef,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { DataTable } from './table.component';\r\n\r\n@Component({\r\n  selector: '[dataTableRow]',\r\n  templateUrl: './row.html',\r\n  styleUrls: ['./row.css']\r\n})\r\nexport class DataTableRow implements OnDestroy {\r\n  @Input() item: any;\r\n  @Input() index: number;\r\n\r\n  expanded: boolean;\r\n\r\n  // row selection:\r\n\r\n  private _selected: boolean;\r\n\r\n  @Output() selectedChange = new EventEmitter();\r\n\r\n  get selected() {\r\n    return this._selected;\r\n  }\r\n\r\n  set selected(selected) {\r\n    this._selected = selected;\r\n    this.selectedChange.emit(selected);\r\n  }\r\n\r\n  // other:\r\n\r\n  get displayIndex() {\r\n    if (this.dataTable.pagination) {\r\n      return this.dataTable.displayParams.offset + this.index + 1;\r\n    } else {\r\n      return this.index + 1;\r\n    }\r\n  }\r\n\r\n  getTooltip() {\r\n    if (this.dataTable.rowTooltip) {\r\n      return this.dataTable.rowTooltip(this.item, this, this.index);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  constructor(\r\n    @Inject(forwardRef(() => DataTable)) public dataTable: DataTable\r\n  ) {}\r\n\r\n  ngOnDestroy() {\r\n    this.selected = false;\r\n  }\r\n\r\n  public _this = this; // FIXME is there no template keyword for this in angular 2?\r\n}\r\n","import { DataTableRow } from './row.component';\r\nimport { DataTableColumn } from './column.component';\r\n\r\n\r\nexport type RowCallback = (item: any, row: DataTableRow, index: number) => string;\r\n\r\nexport type CellCallback = (item: any, row: DataTableRow, column: DataTableColumn, index: number) => string;\r\n\r\n// export type HeaderCallback = (column: DataTableColumn) => string;\r\n\r\n\r\nexport interface DataTableTranslations {\r\n    indexColumn: string;\r\n    selectColumn: string;\r\n    expandColumn: string;\r\n    paginationLimit: string;\r\n    paginationRange: string;\r\n}\r\n\r\nexport var defaultTranslations = <DataTableTranslations>{\r\n    indexColumn: 'index',\r\n    selectColumn: 'select',\r\n    expandColumn: 'expand',\r\n    paginationLimit: 'Limit',\r\n    paginationRange: 'Results'\r\n};\r\n\r\n\r\nexport interface DataTableParams {\r\n    offset?: number;\r\n    limit?: number;\r\n    sortBy?: string;\r\n    sortAsc?: boolean;\r\n}\r\n","\r\nexport type MoveHandler = (event: MouseEvent, dx: number, dy: number, x: number, y: number) => void;\r\nexport type UpHandler = (event: MouseEvent, x: number, y: number, moved: boolean) => void;\r\n\r\nexport function drag(event: MouseEvent, { move: move, up: up}: {move: MoveHandler, up?: UpHandler}) {\r\n\r\n    let startX = event.pageX;\r\n    let startY = event.pageY;\r\n    let x = startX;\r\n    let y = startY;\r\n    let moved = false;\r\n\r\n    function mouseMoveHandler(event: MouseEvent) {\r\n        let dx = event.pageX - x;\r\n        let dy = event.pageY  - y;\r\n        x = event.pageX;\r\n        y = event.pageY;\r\n        if (dx || dy) moved = true;\r\n\r\n        move(event, dx, dy, x, y);\r\n\r\n        event.preventDefault(); // to avoid text selection\r\n    }\r\n\r\n    function mouseUpHandler(event: MouseEvent) {\r\n        x = event.pageX;\r\n        y = event.pageY;\r\n\r\n        document.removeEventListener('mousemove', mouseMoveHandler);\r\n        document.removeEventListener('mouseup', mouseUpHandler);\r\n\r\n        if (up) up(event, x, y, moved);\r\n    }\r\n\r\n    document.addEventListener('mousemove', mouseMoveHandler);\r\n    document.addEventListener('mouseup', mouseUpHandler);\r\n}\r\n","<div class=\"data-table-wrapper\">\r\n  <data-table-header *ngIf=\"header\"></data-table-header>\r\n\r\n  <div class=\"data-table-box\">\r\n    <table class=\"table table-condensed data-table\">\r\n      <thead>\r\n        <tr>\r\n          <th [hide]=\"!expandColumnVisible\" class=\"expand-column-header\"></th>\r\n          <th [hide]=\"!indexColumnVisible\" class=\"index-column-header\">\r\n            <span [textContent]=\"indexColumnHeader\"></span>\r\n          </th>\r\n          <th [hide]=\"!selectColumnVisible\" class=\"select-column-header\">\r\n            <input\r\n              [hide]=\"!multiSelect\"\r\n              type=\"checkbox\"\r\n              [(ngModel)]=\"selectAllCheckbox\"\r\n            />\r\n          </th>\r\n          <th\r\n            *ngFor=\"let column of columns\"\r\n            #th\r\n            [hide]=\"!column.visible\"\r\n            (click)=\"headerClicked(column, $event)\"\r\n            [class.sortable]=\"column.sortable\"\r\n            [class.resizable]=\"column.resizable\"\r\n            [ngClass]=\"column.styleClassObject\"\r\n            class=\"column-header\"\r\n            [style.width]=\"column.width | px\"\r\n          >\r\n            <span\r\n              *ngIf=\"!column.headerTemplate\"\r\n              [textContent]=\"column.header\"\r\n            ></span>\r\n            <span\r\n              *ngIf=\"column.headerTemplate\"\r\n              [ngTemplateOutlet]=\"column.headerTemplate\"\r\n              [ngTemplateOutletContext]=\"{ column: column }\"\r\n            ></span>\r\n            <span class=\"column-sort-icon\" *ngIf=\"column.sortable\">\r\n              <i\r\n                class=\"fa fa-sort column-sortable-icon\"\r\n                [hide]=\"column.property === sortBy\"\r\n              ></i>\r\n              <span [hide]=\"column.property !== sortBy\">\r\n                <i class=\"fa fa-sort-asc\" [hide]=\"sortAsc\"></i>\r\n                <i class=\"fa fa-sort-desc\" [hide]=\"!sortAsc\"></i>\r\n              </span>\r\n            </span>\r\n            <span\r\n              *ngIf=\"column.resizable\"\r\n              class=\"column-resize-handle\"\r\n              (mousedown)=\"resizeColumnStart($event, column, th)\"\r\n            ></span>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody\r\n        *ngFor=\"let item of items; let index = index\"\r\n        class=\"data-table-row-wrapper\"\r\n        dataTableRow\r\n        #row\r\n        [item]=\"item\"\r\n        [index]=\"index\"\r\n        (selectedChange)=\"onRowSelectChanged(row)\"\r\n      ></tbody>\r\n      <tbody class=\"substitute-rows\" *ngIf=\"pagination && substituteRows\">\r\n        <tr\r\n          *ngFor=\"let item of substituteItems; let index = index\"\r\n          [class.row-odd]=\"(index + items.length) % 2 === 0\"\r\n          [class.row-even]=\"(index + items.length) % 2 === 1\"\r\n        >\r\n          <td [hide]=\"!expandColumnVisible\"></td>\r\n          <td [hide]=\"!indexColumnVisible\">&nbsp;</td>\r\n          <td [hide]=\"!selectColumnVisible\"></td>\r\n          <td *ngFor=\"let column of columns\" [hide]=\"!column.visible\"></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"loading-cover\" *ngIf=\"showReloading && reloading\"></div>\r\n  </div>\r\n\r\n  <data-table-pagination *ngIf=\"pagination\"></data-table-pagination>\r\n</div>\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ContentChildren,\r\n  QueryList,\r\n  TemplateRef,\r\n  ContentChild,\r\n  ViewChildren,\r\n  OnInit\r\n} from '@angular/core';\r\nimport { DataTableColumn } from './column.component';\r\nimport { DataTableRow } from './row.component';\r\nimport { DataTableParams } from './types';\r\nimport { RowCallback } from './types';\r\nimport { DataTableTranslations, defaultTranslations } from './types';\r\nimport { drag } from '../utils/drag';\r\n\r\n@Component({\r\n  selector: 'data-table',\r\n  templateUrl: './table.html',\r\n  styleUrls: ['./table.css']\r\n})\r\nexport class DataTable implements DataTableParams, OnInit {\r\n  private _items: any[] = [];\r\n\r\n  @Input() get items() {\r\n    return this._items;\r\n  }\r\n\r\n  set items(items: any[]) {\r\n    this._items = items;\r\n    this._onReloadFinished();\r\n  }\r\n\r\n  @Input() itemCount: number;\r\n\r\n  // UI components:\r\n\r\n  @ContentChildren(DataTableColumn) columns: QueryList<DataTableColumn>;\r\n  @ViewChildren(DataTableRow) rows: QueryList<DataTableRow>;\r\n  @ContentChild('dataTableExpand')\r\n  expandTemplate: TemplateRef<any>;\r\n\r\n  // One-time optional bindings with default values:\r\n\r\n  @Input() headerTitle: string;\r\n  @Input() header = true;\r\n  @Input() pagination = true;\r\n  @Input() indexColumn = true;\r\n  @Input() indexColumnHeader = '';\r\n  @Input() rowColors: RowCallback;\r\n  @Input() rowTooltip: RowCallback;\r\n  @Input() selectColumn = false;\r\n  @Input() multiSelect = true;\r\n  @Input() substituteRows = true;\r\n  @Input() expandableRows = false;\r\n  @Input() translations: DataTableTranslations = defaultTranslations;\r\n  @Input() selectOnRowClick = false;\r\n  @Input() autoReload = true;\r\n  @Input() showReloading = false;\r\n\r\n  // UI state without input:\r\n\r\n  indexColumnVisible: boolean;\r\n  selectColumnVisible: boolean;\r\n  expandColumnVisible: boolean;\r\n\r\n  // UI state: visible ge/set for the outside with @Input for one-time initial values\r\n\r\n  private _sortBy: string;\r\n  private _sortAsc = true;\r\n\r\n  private _offset = 0;\r\n  private _limit = 10;\r\n\r\n  @Input()\r\n  get sortBy() {\r\n    return this._sortBy;\r\n  }\r\n\r\n  set sortBy(value) {\r\n    this._sortBy = value;\r\n    this._triggerReload();\r\n  }\r\n\r\n  @Input()\r\n  get sortAsc() {\r\n    return this._sortAsc;\r\n  }\r\n\r\n  set sortAsc(value) {\r\n    this._sortAsc = value;\r\n    this._triggerReload();\r\n  }\r\n\r\n  @Input()\r\n  get offset() {\r\n    return this._offset;\r\n  }\r\n\r\n  set offset(value) {\r\n    this._offset = value;\r\n    this._triggerReload();\r\n  }\r\n\r\n  @Input()\r\n  get limit() {\r\n    return this._limit;\r\n  }\r\n\r\n  set limit(value) {\r\n    this._limit = value;\r\n    this._triggerReload();\r\n  }\r\n\r\n  // calculated property:\r\n\r\n  @Input()\r\n  get page() {\r\n    return Math.floor(this.offset / this.limit) + 1;\r\n  }\r\n\r\n  set page(value) {\r\n    this.offset = (value - 1) * this.limit;\r\n  }\r\n\r\n  get lastPage() {\r\n    return Math.ceil(this.itemCount / this.limit);\r\n  }\r\n\r\n  // setting multiple observable properties simultaneously\r\n\r\n  sort(sortBy: string, asc: boolean) {\r\n    this.sortBy = sortBy;\r\n    this.sortAsc = asc;\r\n  }\r\n\r\n  // init\r\n\r\n  ngOnInit() {\r\n    this._initDefaultValues();\r\n    this._initDefaultClickEvents();\r\n    this._updateDisplayParams();\r\n\r\n    if (this.autoReload && this._scheduledReload == null) {\r\n      this.reloadItems();\r\n    }\r\n  }\r\n\r\n  private _initDefaultValues() {\r\n    this.indexColumnVisible = this.indexColumn;\r\n    this.selectColumnVisible = this.selectColumn;\r\n    this.expandColumnVisible = this.expandableRows;\r\n  }\r\n\r\n  private _initDefaultClickEvents() {\r\n    this.headerClick.subscribe(tableEvent =>\r\n      this.sortColumn(tableEvent.column)\r\n    );\r\n    if (this.selectOnRowClick) {\r\n      this.rowClick.subscribe(\r\n        tableEvent => (tableEvent.row.selected = !tableEvent.row.selected)\r\n      );\r\n    }\r\n  }\r\n\r\n  // Reloading:\r\n\r\n  _reloading = false;\r\n\r\n  get reloading() {\r\n    return this._reloading;\r\n  }\r\n\r\n  @Output() reload = new EventEmitter();\r\n\r\n  reloadItems() {\r\n    this._reloading = true;\r\n    this.reload.emit(this._getRemoteParameters());\r\n  }\r\n\r\n  private _onReloadFinished() {\r\n    this._updateDisplayParams();\r\n\r\n    this._selectAllCheckbox = false;\r\n    this._reloading = false;\r\n  }\r\n\r\n  _displayParams = <DataTableParams>{}; // params of the last finished reload\r\n\r\n  get displayParams() {\r\n    return this._displayParams;\r\n  }\r\n\r\n  _updateDisplayParams() {\r\n    this._displayParams = {\r\n      sortBy: this.sortBy,\r\n      sortAsc: this.sortAsc,\r\n      offset: this.offset,\r\n      limit: this.limit\r\n    };\r\n  }\r\n\r\n  _scheduledReload = null;\r\n\r\n  // for avoiding cascading reloads if multiple params are set at once:\r\n  _triggerReload() {\r\n    if (this._scheduledReload) {\r\n      clearTimeout(this._scheduledReload);\r\n    }\r\n    this._scheduledReload = setTimeout(() => {\r\n      this.reloadItems();\r\n    });\r\n  }\r\n\r\n  // event handlers:\r\n\r\n  @Output() rowClick = new EventEmitter();\r\n  @Output() rowDoubleClick = new EventEmitter();\r\n  @Output() headerClick = new EventEmitter();\r\n  @Output() cellClick = new EventEmitter();\r\n\r\n  public rowClicked(row: DataTableRow, event) {\r\n    this.rowClick.emit({ row, event });\r\n  }\r\n\r\n  public rowDoubleClicked(row: DataTableRow, event) {\r\n    this.rowDoubleClick.emit({ row, event });\r\n  }\r\n\r\n  public headerClicked(column: DataTableColumn, event: MouseEvent) {\r\n    if (!this._resizeInProgress) {\r\n      this.headerClick.emit({ column, event });\r\n    } else {\r\n      this._resizeInProgress = false; // this is because I can't prevent click from mousup of the drag end\r\n    }\r\n  }\r\n\r\n  private cellClicked(\r\n    column: DataTableColumn,\r\n    row: DataTableRow,\r\n    event: MouseEvent\r\n  ) {\r\n    this.cellClick.emit({ row, column, event });\r\n  }\r\n\r\n  // functions:\r\n\r\n  private _getRemoteParameters(): DataTableParams {\r\n    let params = <DataTableParams>{};\r\n\r\n    if (this.sortBy) {\r\n      params.sortBy = this.sortBy;\r\n      params.sortAsc = this.sortAsc;\r\n    }\r\n    if (this.pagination) {\r\n      params.offset = this.offset;\r\n      params.limit = this.limit;\r\n    }\r\n    return params;\r\n  }\r\n\r\n  private sortColumn(column: DataTableColumn) {\r\n    if (column.sortable) {\r\n      let ascending = this.sortBy === column.property ? !this.sortAsc : true;\r\n      this.sort(column.property, ascending);\r\n    }\r\n  }\r\n\r\n  get columnCount() {\r\n    let count = 0;\r\n    count += this.indexColumnVisible ? 1 : 0;\r\n    count += this.selectColumnVisible ? 1 : 0;\r\n    count += this.expandColumnVisible ? 1 : 0;\r\n    this.columns.toArray().forEach(column => {\r\n      count += column.visible ? 1 : 0;\r\n    });\r\n    return count;\r\n  }\r\n\r\n  public getRowColor(item: any, index: number, row: DataTableRow) {\r\n    if (this.rowColors !== undefined) {\r\n      return (<RowCallback>this.rowColors)(item, row, index);\r\n    }\r\n  }\r\n\r\n  // selection:\r\n\r\n  selectedRow: DataTableRow;\r\n  selectedRows: DataTableRow[] = [];\r\n\r\n  private _selectAllCheckbox = false;\r\n\r\n  get selectAllCheckbox() {\r\n    return this._selectAllCheckbox;\r\n  }\r\n\r\n  set selectAllCheckbox(value) {\r\n    this._selectAllCheckbox = value;\r\n    this._onSelectAllChanged(value);\r\n  }\r\n\r\n  private _onSelectAllChanged(value: boolean) {\r\n    this.rows.toArray().forEach(row => (row.selected = value));\r\n  }\r\n\r\n  onRowSelectChanged(row: DataTableRow) {\r\n    // maintain the selectedRow(s) view\r\n    if (this.multiSelect) {\r\n      let index = this.selectedRows.indexOf(row);\r\n      if (row.selected && index < 0) {\r\n        this.selectedRows.push(row);\r\n      } else if (!row.selected && index >= 0) {\r\n        this.selectedRows.splice(index, 1);\r\n      }\r\n    } else {\r\n      if (row.selected) {\r\n        this.selectedRow = row;\r\n      } else if (this.selectedRow === row) {\r\n        this.selectedRow = undefined;\r\n      }\r\n    }\r\n\r\n    // unselect all other rows:\r\n    if (row.selected && !this.multiSelect) {\r\n      this.rows\r\n        .toArray()\r\n        .filter(row_ => row_.selected)\r\n        .forEach(row_ => {\r\n          if (row_ !== row) {\r\n            // avoid endless loop\r\n            row_.selected = false;\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  // other:\r\n\r\n  get substituteItems() {\r\n    return Array.from({ length: this.displayParams.limit - this.items.length });\r\n  }\r\n\r\n  // column resizing:\r\n\r\n  private _resizeInProgress = false;\r\n\r\n  public resizeColumnStart(\r\n    event: MouseEvent,\r\n    column: DataTableColumn,\r\n    columnElement: HTMLElement\r\n  ) {\r\n    this._resizeInProgress = true;\r\n\r\n    drag(event, {\r\n      move: (moveEvent: MouseEvent, dx: number) => {\r\n        if (this._isResizeInLimit(columnElement, dx)) {\r\n          column.width = columnElement.offsetWidth + dx;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  resizeLimit = 30;\r\n\r\n  private _isResizeInLimit(columnElement: HTMLElement, dx: number) {\r\n    /* This is needed because CSS min-width didn't work on table-layout: fixed.\r\n         Without the limits, resizing can make the next column disappear completely,\r\n         and even increase the table width. The current implementation suffers from the fact,\r\n         that offsetWidth sometimes contains out-of-date values. */\r\n    if (\r\n      (dx < 0 && columnElement.offsetWidth + dx <= this.resizeLimit) ||\r\n      !columnElement.nextElementSibling || // resizing doesn't make sense for the last visible column\r\n      (dx >= 0 &&\r\n        (<HTMLElement>columnElement.nextElementSibling).offsetWidth + dx <=\r\n          this.resizeLimit)\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'min'\r\n})\r\nexport class MinPipe implements PipeTransform {\r\n  transform(value: number[]): any {\r\n    return Math.min.apply(null, value);\r\n  }\r\n}\r\n","import { Component, Inject, forwardRef } from '@angular/core';\r\nimport { DataTable } from './table.component';\r\n\r\n@Component({\r\n  selector: 'data-table-pagination',\r\n  templateUrl: './pagination.html',\r\n  styleUrls: ['./pagination.css']\r\n})\r\nexport class DataTablePagination {\r\n  constructor(\r\n    @Inject(forwardRef(() => DataTable)) public dataTable: DataTable\r\n  ) {}\r\n\r\n  pageBack() {\r\n    this.dataTable.offset -= Math.min(\r\n      this.dataTable.limit,\r\n      this.dataTable.offset\r\n    );\r\n  }\r\n\r\n  pageForward() {\r\n    this.dataTable.offset += this.dataTable.limit;\r\n  }\r\n\r\n  pageFirst() {\r\n    this.dataTable.offset = 0;\r\n  }\r\n\r\n  pageLast() {\r\n    this.dataTable.offset = (this.maxPage - 1) * this.dataTable.limit;\r\n  }\r\n\r\n  get maxPage() {\r\n    return Math.ceil(this.dataTable.itemCount / this.dataTable.limit);\r\n  }\r\n\r\n  get limit() {\r\n    return this.dataTable.limit;\r\n  }\r\n\r\n  set limit(value) {\r\n    this.dataTable.limit = Number(<any>value); // TODO better way to handle that value of number <input> is string?\r\n  }\r\n\r\n  get page() {\r\n    return this.dataTable.page;\r\n  }\r\n\r\n  set page(value) {\r\n    this.dataTable.page = Number(<any>value);\r\n  }\r\n}\r\n","<div class=\"pagination-box\">\r\n  <div class=\"pagination-range\">\r\n    {{ dataTable.translations.paginationRange }}:\r\n    <span [textContent]=\"dataTable.offset + 1\"></span>\r\n    -\r\n    <span\r\n      [textContent]=\"\r\n        [dataTable.offset + dataTable.limit, dataTable.itemCount] | min\r\n      \"\r\n    ></span>\r\n    /\r\n    <span [textContent]=\"dataTable.itemCount\"></span>\r\n  </div>\r\n  <div class=\"pagination-controllers\">\r\n    <div class=\"pagination-limit\">\r\n      <div class=\"input-group\">\r\n        <span class=\"input-group-addon\"\r\n          >{{ dataTable.translations.paginationLimit }}:</span\r\n        >\r\n        <input\r\n          #limitInput\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          min=\"1\"\r\n          step=\"1\"\r\n          [ngModel]=\"limit\"\r\n          (blur)=\"limit = limitInput.value\"\r\n          (keyup.enter)=\"limit = limitInput.value\"\r\n          (keyup.esc)=\"limitInput.value = limit\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\" pagination-pages\">\r\n      <button\r\n        [disabled]=\"dataTable.offset <= 0\"\r\n        (click)=\"pageFirst()\"\r\n        class=\"btn btn-default pagination-firstpage\"\r\n      >\r\n        &laquo;\r\n      </button>\r\n      <button\r\n        [disabled]=\"dataTable.offset <= 0\"\r\n        (click)=\"pageBack()\"\r\n        class=\"btn btn-default pagination-prevpage\"\r\n      >\r\n        &lsaquo;\r\n      </button>\r\n      <div class=\"pagination-page\">\r\n        <div class=\"input-group\">\r\n          <input\r\n            #pageInput\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            min=\"1\"\r\n            step=\"1\"\r\n            max=\"{{ maxPage }}\"\r\n            [ngModel]=\"page\"\r\n            (blur)=\"page = pageInput.value\"\r\n            (keyup.enter)=\"page = pageInput.value\"\r\n            (keyup.esc)=\"pageInput.value = page\"\r\n          />\r\n          <div class=\"input-group-addon\">\r\n            <span>/</span>\r\n            <span [textContent]=\"dataTable.lastPage\"></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button\r\n        [disabled]=\"dataTable.offset + dataTable.limit >= dataTable.itemCount\"\r\n        (click)=\"pageForward()\"\r\n        class=\"btn btn-default pagination-nextpage\"\r\n      >\r\n        &rsaquo;\r\n      </button>\r\n      <button\r\n        [disabled]=\"dataTable.offset + dataTable.limit >= dataTable.itemCount\"\r\n        (click)=\"pageLast()\"\r\n        class=\"btn btn-default pagination-lastpage\"\r\n      >\r\n        &raquo;\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","<div class=\"data-table-header\">\r\n  <h4 class=\"title\" [textContent]=\"dataTable.headerTitle\"></h4>\r\n  <div class=\"button-panel\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-default btn-sm refresh-button\"\r\n      (click)=\"dataTable.reloadItems()\"\r\n    >\r\n      <i class=\"fa fa-refresh\"></i>\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-default btn-sm column-selector-button\"\r\n      [class.active]=\"columnSelectorOpen\"\r\n      (click)=\"\r\n        columnSelectorOpen = !columnSelectorOpen; $event.stopPropagation()\r\n      \"\r\n    >\r\n      <i class=\"fa fa-list\"></i>\r\n    </button>\r\n    <div class=\"column-selector-wrapper\" (click)=\"$event.stopPropagation()\">\r\n      <div *ngIf=\"columnSelectorOpen\" class=\"column-selector-box card\">\r\n        <div\r\n          *ngIf=\"dataTable.expandableRows\"\r\n          class=\"column-selector-fixed-column checkbox\"\r\n        >\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              [(ngModel)]=\"dataTable.expandColumnVisible\"\r\n            />\r\n            <span>{{ dataTable.translations.expandColumn }}</span>\r\n          </label>\r\n        </div>\r\n        <div\r\n          *ngIf=\"dataTable.indexColumn\"\r\n          class=\"column-selector-fixed-column checkbox\"\r\n        >\r\n          <label>\r\n            <input type=\"checkbox\" [(ngModel)]=\"dataTable.indexColumnVisible\" />\r\n            <span>{{ dataTable.translations.indexColumn }}</span>\r\n          </label>\r\n        </div>\r\n        <div\r\n          *ngIf=\"dataTable.selectColumn\"\r\n          class=\"column-selector-fixed-column checkbox\"\r\n        >\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              [(ngModel)]=\"dataTable.selectColumnVisible\"\r\n            />\r\n            <span>{{ dataTable.translations.selectColumn }}</span>\r\n          </label>\r\n        </div>\r\n        <div\r\n          *ngFor=\"let column of dataTable.columns\"\r\n          class=\"column-selector-column checkbox\"\r\n        >\r\n          <label>\r\n            <input type=\"checkbox\" [(ngModel)]=\"column.visible\" />\r\n            <span [textContent]=\"column.header\"></span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Inject, forwardRef } from '@angular/core';\r\nimport { DataTable } from './table.component';\r\n\r\n@Component({\r\n  selector: 'data-table-header',\r\n  templateUrl: './header.html',\r\n  styleUrls: ['./header.css'],\r\n  host: {\r\n    '(document:click)': '_closeSelector()'\r\n  }\r\n})\r\nexport class DataTableHeader {\r\n  columnSelectorOpen = false;\r\n\r\n  _closeSelector() {\r\n    this.columnSelectorOpen = false;\r\n  }\r\n\r\n  constructor(\r\n    @Inject(forwardRef(() => DataTable)) public dataTable: DataTable\r\n  ) {}\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'px'\r\n})\r\nexport class PixelConverter implements PipeTransform {\r\n  transform(value: string | number): any {\r\n    if (value === undefined) {\r\n      return;\r\n    }\r\n    if (typeof value === 'string') {\r\n      return value;\r\n    }\r\n    if (typeof value === 'number') {\r\n      return value + 'px';\r\n    }\r\n  }\r\n}\r\n","import { DataTableParams } from '../components/types';\r\n\r\n\r\nexport class DataTableResource<T> {\r\n\r\n    constructor(private items: T[]) {}\r\n\r\n    query(params: DataTableParams, filter?: (item: T, index: number, items: T[]) => boolean): Promise<T[]> {\r\n\r\n        let result: T[] = [];\r\n        if (filter) {\r\n            result = this.items.filter(filter);\r\n        } else {\r\n            result = this.items.slice(); // shallow copy to use for sorting instead of changing the original\r\n        }\r\n\r\n        if (params.sortBy) {\r\n            result.sort((a, b) => {\r\n                if (typeof a[params.sortBy] === 'string') {\r\n                    return a[params.sortBy].localeCompare(b[params.sortBy]);\r\n                } else {\r\n                    return a[params.sortBy] - b[params.sortBy];\r\n                }\r\n            });\r\n            if (params.sortAsc === false) {\r\n                result.reverse();\r\n            }\r\n        }\r\n        if (params.offset !== undefined) {\r\n            if (params.limit === undefined) {\r\n                result = result.slice(params.offset, result.length);\r\n            } else {\r\n                result = result.slice(params.offset, params.offset + params.limit);\r\n            }\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => resolve(result));\r\n        });\r\n    }\r\n\r\n    count(): Promise<number> {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => resolve(this.items.length));\r\n        });\r\n\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { DataTable } from './components/table.component';\r\nimport { DataTableColumn } from './components/column.component';\r\nimport { DataTableRow } from './components/row.component';\r\nimport { DataTablePagination } from './components/pagination.component';\r\nimport { DataTableHeader } from './components/header.component';\r\n\r\nimport { PixelConverter } from './utils/px';\r\nimport { Hide } from './utils/hide';\r\nimport { MinPipe } from './utils/min';\r\n\r\nexport * from './components/types';\r\nexport * from './tools/data-table-resource';\r\n\r\nexport {\r\n  DataTable,\r\n  DataTableColumn,\r\n  DataTableRow,\r\n  DataTablePagination,\r\n  DataTableHeader\r\n};\r\nexport const DATA_TABLE_DIRECTIVES = [DataTable, DataTableColumn];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule],\r\n  declarations: [\r\n    DataTable,\r\n    DataTableColumn,\r\n    DataTableRow,\r\n    DataTablePagination,\r\n    DataTableHeader,\r\n    PixelConverter,\r\n    Hide,\r\n    MinPipe\r\n  ],\r\n  exports: [DataTable, DataTableColumn]\r\n})\r\nexport class DataTableModule {}\r\n","/*\r\n * Public API Surface of angular-bootstrap-data-table\r\n */\r\n\r\nexport * from './lib/angular-bootstrap-data-table.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelement","i0.ɵɵproperty","i0.ɵɵelementStart","i0.ɵɵtemplate","i0.ɵɵelementEnd","i0.ɵɵstyleProp","i0.ɵɵadvance","i0.ɵɵattribute","i0.ɵɵlistener","i0.ɵɵclassProp","i0.ɵɵtext","i0.ɵɵtextInterpolate1","i0.ɵɵpropertyInterpolate","i0.ɵɵtextInterpolate"],"mappings":"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"}