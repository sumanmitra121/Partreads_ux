{"version":3,"file":"ngx-image-zoom.js","sources":["ngx-image-zoom/lib/ngx-image-zoom.component.ts","ngx-image-zoom/lib/ngx-image-zoom.module.ts","ngx-image-zoom/public-api.ts","ngx-image-zoom/ngx-image-zoom.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, ElementRef, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output, Renderer2, ViewChild } from '@angular/core';\n\nexport interface Coord {\n    x: number;\n    y: number;\n}\n\n@Component({\n    selector: 'lib-ngx-image-zoom',\n    templateUrl: './ngx-image-zoom.component.html',\n    styleUrls: ['./ngx-image-zoom.component.css']\n})\nexport class NgxImageZoomComponent implements OnInit, OnChanges, OnDestroy {\n\n    private static readonly validZoomModes: string[] = ['hover', 'toggle', 'click', 'hover-freeze'];\n\n    @ViewChild('zoomContainer', {static: true}) zoomContainer !: ElementRef;\n    @ViewChild('imageThumbnail', {static: true}) imageThumbnail !: ElementRef;\n    @ViewChild('fullSizeImage', {static: true}) fullSizeImage !: ElementRef;\n\n    @Output() zoomScroll = new EventEmitter<number>();\n    @Output() zoomPosition = new EventEmitter<Coord>();\n\n    public display: string;\n    public fullImageTop: number;\n    public fullImageLeft: number;\n    public magnifiedWidth: number;\n    public magnifiedHeight: number;\n    public lensTop: number;\n    public lensLeft: number;\n    public enableLens = false;\n    public lensBorderRadius = 0;\n\n    public thumbImage: string;\n    public fullImage: string;\n    public thumbWidth: number;\n    public thumbHeight: number;\n    public fullWidth: number;\n    public fullHeight: number;\n    public lensWidth = 100;\n    public lensHeight = 100;\n\n    private zoomMode = 'hover';\n    private magnification = 1;\n    private enableScrollZoom = false;\n    private scrollStepSize = 0.1;\n    private circularLens = false;\n\n    private baseRatio: number;\n    private minZoomRatio;\n    private maxZoomRatio = 2;\n    private xRatio: number;\n    private yRatio: number;\n    private offsetLeft: number;\n    private offsetTop: number;\n    private zoomingEnabled = false;\n    private zoomFrozen = false;\n    private isReady = false;\n    private thumbImageLoaded = false;\n    private fullImageLoaded = false;\n\n    private latestMouseLeft: number;\n    private latestMouseTop: number;\n\n    private eventListeners: (() => void)[] = [];\n\n    constructor(private renderer: Renderer2) {\n    }\n\n    @Input('thumbImage')\n    public set setThumbImage(thumbImage: string) {\n        this.thumbImageLoaded = false;\n        this.isReady = false;\n        this.thumbImage = thumbImage;\n    }\n\n    @Input('fullImage')\n    public set setFullImage(fullImage: string) {\n        this.fullImageLoaded = false;\n        this.isReady = false;\n        this.fullImage = fullImage;\n    }\n\n    @Input('zoomMode')\n    public set setZoomMode(zoomMode: string) {\n        if (NgxImageZoomComponent.validZoomModes.some(m => m === zoomMode)) {\n            this.zoomMode = zoomMode;\n        }\n    }\n\n    @Input('magnification')\n    public set setMagnification(magnification: number) {\n        this.magnification = Number(magnification) || this.magnification;\n        this.zoomScroll.emit(this.magnification);\n    }\n\n    @Input('minZoomRatio')\n    public set setMinZoomRatio(minZoomRatio: number) {\n        const ratio = Number(minZoomRatio) || this.minZoomRatio || this.baseRatio || 0;\n        this.minZoomRatio = Math.max(ratio, this.baseRatio || 0);\n    }\n\n    @Input('maxZoomRatio')\n    public set setMaxZoomRatio(maxZoomRatio: number) {\n        this.maxZoomRatio = Number(maxZoomRatio) || this.maxZoomRatio;\n    }\n\n    @Input('scrollStepSize')\n    public set setScrollStepSize(stepSize: number) {\n        this.scrollStepSize = Number(stepSize) || this.scrollStepSize;\n    }\n\n    @Input('enableLens')\n    public set setEnableLens(enable: boolean) {\n        this.enableLens = Boolean(enable);\n    }\n\n    @Input('lensWidth')\n    public set setLensWidth(width: number) {\n        this.lensWidth = Number(width) || this.lensWidth;\n    }\n\n    @Input('lensHeight')\n    public set setLensHeight(height: number) {\n        this.lensHeight = Number(height) || this.lensHeight;\n    }\n\n    @Input('circularLens')\n    public set setCircularLens(enable: boolean) {\n        this.circularLens = Boolean(enable);\n    }\n\n    @Input('enableScrollZoom')\n    public set setEnableScrollZoom(enable: boolean) {\n        this.enableScrollZoom = Boolean(enable);\n    }\n\n    ngOnInit(): void {\n        this.setUpEventListeners();\n    }\n\n    ngOnChanges() {\n        if (this.enableLens) {\n            if (this.circularLens) {\n                this.lensBorderRadius = this.lensWidth / 2;\n            } else {\n                this.lensBorderRadius = 0;\n            }\n        }\n        this.calculateRatioAndOffset();\n        this.calculateImageAndLensPosition();\n    }\n\n    ngOnDestroy(): void {\n        this.eventListeners.forEach((destroyFn) => destroyFn());\n    }\n\n    /**\n     * Template helper methods\n     */\n    onThumbImageLoaded() {\n        this.thumbImageLoaded = true;\n        this.checkImagesLoaded();\n    }\n\n    onFullImageLoaded() {\n        this.fullImageLoaded = true;\n        this.checkImagesLoaded();\n    }\n\n    private setUpEventListeners() {\n        if (this.zoomMode === 'hover') {\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mouseenter', (event) => this.hoverMouseEnter(event))\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mouseleave', () => this.hoverMouseLeave())\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mousemove', (event) => this.hoverMouseMove(event))\n            );\n        } else if (this.zoomMode === 'toggle') {\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'click', (event) => this.toggleClick(event))\n            );\n        } else if (this.zoomMode === 'click') {\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'click', (event) => this.clickStarter(event))\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mouseleave', () => this.clickMouseLeave())\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mousemove', (event) => this.clickMouseMove(event))\n            );\n        } else if (this.zoomMode === 'hover-freeze') {\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mouseenter', (event) => this.hoverFreezeMouseEnter(event))\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mouseleave', () => this.hoverFreezeMouseLeave())\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mousemove', (event) => this.hoverFreezeMouseMove(event))\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'click', (event) => this.hoverFreezeClick(event))\n            );\n        }\n        if (this.enableScrollZoom) {\n            // Chrome: 'mousewheel', Firefox: 'DOMMouseScroll', IE: 'onmousewheel'\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'mousewheel', (event) => this.onMouseWheel(event))\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'DOMMouseScroll', (event) => this.onMouseWheel(event))\n            );\n            this.eventListeners.push(\n                this.renderer.listen(this.zoomContainer.nativeElement, 'onmousewheel', (event) => this.onMouseWheel(event))\n            );\n        }\n        if (this.enableLens && this.circularLens) {\n            this.lensBorderRadius = this.lensWidth / 2;\n        }\n    }\n\n    private checkImagesLoaded() {\n        this.calculateRatioAndOffset();\n        if (this.thumbImageLoaded && this.fullImageLoaded) {\n            this.calculateImageAndLensPosition();\n            this.isReady = true;\n        }\n    }\n\n    /**\n     * Zoom position setters\n     */\n    private setZoomPosition(left: number, top: number) {\n        this.latestMouseLeft = Number(left) || this.latestMouseLeft;\n        this.latestMouseTop = Number(top) || this.latestMouseTop;\n\n        const c: Coord = {\n            x: this.latestMouseLeft,\n            y: this.latestMouseTop\n        };\n        this.zoomPosition.emit(c);\n    }\n\n\n    /**\n     * Mouse wheel event\n     */\n    private onMouseWheel(event: any) {\n        // Don't eat events if zooming isn't active\n        if (!this.zoomingEnabled || this.zoomFrozen) {\n            return;\n        }\n\n        event = window.event || event; // old IE\n        const direction = Math.max(Math.min((event.wheelDelta || -event.detail), 1), -1);\n        if (direction > 0) {\n            // up\n            this.setMagnification = Math.min(this.magnification + this.scrollStepSize, this.maxZoomRatio);\n        } else {\n            // down\n            this.setMagnification = Math.max(this.magnification - this.scrollStepSize, this.minZoomRatio);\n        }\n        this.calculateRatio();\n        this.calculateZoomPosition(event);\n\n        // Prevent scrolling on page.\n        event.returnValue = false; // IE\n        if (event.preventDefault) {\n            event.preventDefault(); // Chrome & FF\n        }\n    }\n\n    /**\n     * Hover mode\n     */\n    private hoverMouseEnter(event: MouseEvent) {\n        this.zoomOn(event);\n    }\n\n    private hoverMouseLeave() {\n        this.zoomOff();\n    }\n\n    private hoverMouseMove(event: MouseEvent) {\n        this.calculateZoomPosition(event);\n    }\n\n    /**\n     * Toggle mode\n     */\n    private toggleClick(event: MouseEvent) {\n        if (this.zoomingEnabled) {\n            this.zoomOff();\n        } else {\n            this.zoomOn(event);\n        }\n    }\n\n    /**\n     * Click mode\n     */\n    private clickStarter(event: MouseEvent) {\n        if (this.zoomingEnabled === false) {\n            this.zoomOn(event);\n        }\n    }\n\n    private clickMouseLeave() {\n        this.zoomOff();\n    }\n\n    private clickMouseMove(event: MouseEvent) {\n        if (this.zoomingEnabled) {\n            this.calculateZoomPosition(event);\n        }\n    }\n\n    /**\n     * Hover freeze mode\n     */\n    private hoverFreezeMouseEnter(event: MouseEvent) {\n        if (this.zoomingEnabled && !this.zoomFrozen) {\n            this.zoomOn(event);\n        }\n    }\n\n    private hoverFreezeMouseLeave() {\n        if (this.zoomingEnabled && !this.zoomFrozen) {\n            this.zoomOff();\n        }\n    }\n\n    private hoverFreezeMouseMove(event: MouseEvent) {\n        if (this.zoomingEnabled && !this.zoomFrozen) {\n            this.calculateZoomPosition(event);\n        }\n    }\n\n    private hoverFreezeClick(event: MouseEvent) {\n        if (this.zoomingEnabled && this.zoomFrozen) {\n            this.zoomFrozen = false;\n            this.zoomOff();\n        } else if (this.zoomingEnabled) {\n            this.zoomFrozen = true;\n        } else {\n            this.zoomOn(event);\n        }\n    }\n\n    /**\n     * Private helper methods\n     */\n    private zoomOn(event: MouseEvent) {\n        if (this.isReady) {\n            this.zoomingEnabled = true;\n            this.calculateRatioAndOffset();\n            this.display = 'block';\n            this.calculateZoomPosition(event);\n        }\n    }\n\n    private zoomOff() {\n        this.zoomingEnabled = false;\n        this.display = 'none';\n    }\n\n    private calculateZoomPosition(event: MouseEvent) {\n        const newLeft = Math.max(Math.min(event.offsetX, this.thumbWidth), 0);\n        const newTop = Math.max(Math.min(event.offsetY, this.thumbHeight), 0);\n\n        this.setZoomPosition(newLeft, newTop);\n\n        this.calculateImageAndLensPosition();\n    }\n\n    private calculateImageAndLensPosition() {\n        let lensLeftMod = 0;\n        let lensTopMod = 0;\n\n        if (this.enableLens) {\n            lensLeftMod = this.lensLeft = this.latestMouseLeft - this.lensWidth / 2;\n            lensTopMod = this.lensTop = this.latestMouseTop - this.lensHeight / 2;\n        }\n\n        this.fullImageLeft = (this.latestMouseLeft * -this.xRatio) - lensLeftMod;\n        this.fullImageTop = (this.latestMouseTop * -this.yRatio) - lensTopMod;\n    }\n\n    private calculateRatioAndOffset() {\n        this.thumbWidth = this.imageThumbnail.nativeElement.width;\n        this.thumbHeight = this.imageThumbnail.nativeElement.height;\n\n        // If lens is disabled, set lens size to equal thumb size and position it on top of the thumb\n        if (!this.enableLens) {\n            this.lensWidth = this.thumbWidth;\n            this.lensHeight = this.thumbHeight;\n            this.lensLeft = 0;\n            this.lensTop = 0;\n        }\n\n        // getBoundingClientRect() ? https://stackoverflow.com/a/44008873\n        this.offsetTop = this.imageThumbnail.nativeElement.getBoundingClientRect().top;\n        this.offsetLeft = this.imageThumbnail.nativeElement.getBoundingClientRect().left;\n\n        if (this.fullImage === undefined) {\n            this.fullImage = this.thumbImage;\n        }\n\n        if (this.fullImageLoaded) {\n            this.fullWidth = this.fullSizeImage.nativeElement.naturalWidth;\n            this.fullHeight = this.fullSizeImage.nativeElement.naturalHeight;\n\n            this.baseRatio = Math.max(\n                (this.thumbWidth / this.fullWidth),\n                (this.thumbHeight / this.fullHeight));\n\n            // Don't allow zooming to smaller than thumbnail size\n            this.minZoomRatio = Math.max(this.minZoomRatio || 0, this.baseRatio || 0);\n\n            this.calculateRatio();\n        }\n    }\n\n    private calculateRatio() {\n        this.magnifiedWidth = (this.fullWidth * this.magnification);\n        this.magnifiedHeight = (this.fullHeight * this.magnification);\n\n        this.xRatio = (this.magnifiedWidth - this.thumbWidth) / this.thumbWidth;\n        this.yRatio = (this.magnifiedHeight - this.thumbHeight) / this.thumbHeight;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxImageZoomComponent } from './ngx-image-zoom.component';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n    declarations: [\n        NgxImageZoomComponent,\n    ],\n    imports: [\n        CommonModule,\n    ],\n    exports: [\n        NgxImageZoomComponent\n    ]\n})\nexport class NgxImageZoomModule {\n}\n","/*\n * Public API Surface of ngx-image-zoom\n */\n\nexport * from './lib/ngx-image-zoom.component';\nexport * from './lib/ngx-image-zoom.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}