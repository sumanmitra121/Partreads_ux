{"version":3,"file":"ng-img-magnifier.js","sources":["../../../projects/ng-img-magnifier/src/lib/ng-img-magnifier.component.ts","../../../projects/ng-img-magnifier/src/lib/ng-img-magnifier.module.ts","../../../projects/ng-img-magnifier/src/public-api.ts","../../../projects/ng-img-magnifier/src/ng-img-magnifier.ts"],"sourcesContent":["import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'ng-img-magnifier',\n  template: `\n    <div class=\"img-zoom-container \">\n      <div class=\"outerImg \" (mouseenter)=\"showZoomWin() \" (mouseleave)=\"hideZoomWin() \">\n          <img #myimage id=\"myimage\" class=\"mainImg\" src={{thumbImage}} width={{imgWidth}} style=\"vertical-align: middle !important;\" height={{imgHeight}} (mousemove)=\"imageZoom();\">\n          <div #zoomDiv id=\"zoomDiv \" class=\"img-zoom-lens \"></div>\n      </div>\n    </div>\n    <div *ngIf=\"showZoom \">\n        <div #myresult id=\"myresult \" class=\"img-zoom-result \"></div>\n    </div>`,\n  styles: [\n    `html,\n    body {\n        height: 100%;\n    }`,\n\n    `body {\n        margin: 0;\n    }`,\n\n    `* {\n        box-sizing: border-box;\n    }`,\n\n    `.img-zoom-container {\n        position: relative;\n    }`,\n\n    `.img-zoom-lens {\n        position: absolute;\n        border: 1px solid #d4d4d4;\n        // background-image: url('./assets/zoom-image.png');\n        background-color: rgb(255, 255, 255, 0.2);\n        background-repeat: repeat;\n        background-size: contain;\n        opacity: 0;\n        cursor: zoom-in !important;\n        display: none;\n    }`,\n\n    `.img-zoom-result {\n        background-color: none;\n        background-repeat: no-repeat;\n        transition: 0.3s;\n        border-radius: 5px;\n        position: absolute;\n    }`,\n\n    `@media screen and (max-width: 800px) {\n        .img-zoom-result {\n            display: none;\n        }\n    }`,\n\n    `.show {\n        opacity: 500;\n    }`,\n\n    `.hide {\n        opacity: 0;\n    }`,\n\n    `.mainImg {\n        vertical-align: middle !important;\n    }`,\n\n    `.outerImg {\n        width: 310px;\n        height: auto;\n        padding-left: 5px;\n        padding-right: 5px;\n        padding-top: 5px;\n        padding-bottom: 5px;\n    }`,\n  ]\n})\nexport class NgImgMagnifierComponent implements OnInit {\n\n  ngOnInit(): void {\n  }\n\n  @Input() thumbImage = '';\n  @Input() fullImage = '';\n  @Input() top = '2';\n  @Input() right = '1';\n  @Input() lensWidth = '150';\n  @Input() lensHeight = '150';\n  @Input() resultWidth = '35';\n  @Input() resultHeight = '60';\n  @Input() imgWidth = '300';\n  @Input() imgHeight = '300';\n\n  constructor() {}\n\n  @ViewChild('myresult') resultID: ElementRef\n  @ViewChild('myimage') imgID: ElementRef\n  @ViewChild('zoomDiv') zoomDiv: ElementRef\n  showZoom:boolean;\n\n  imageZoom() {\n    this.showLensDiv();\n    var img, lens, result, cx, cy;\n\n    result = this.resultID.nativeElement;\n\n    result.style.top = this.top + '%';\n    result.style.right = this.right + '%';\n    result.style.width = this.resultWidth + '%';\n    result.style.height = this.resultHeight + '%';\n\n    this.showZoom = true;\n    \n    img = this.imgID.nativeElement;\n    lens = this.zoomDiv.nativeElement;\n    \n    if(img.width > (img.height*2)){\n      lens.style.width = (img.width / 3) + \"px\";\n      lens.style.height = (img.height / 1) + \"px\";\n    }\n    else if(img.height > (img.width*2)){\n      lens.style.width = (img.width / 1) + \"px\";\n      lens.style.height = (img.height / 3) + \"px\";\n    }\n    else{\n      lens.style.width = this.lensWidth + \"px\";\n      lens.style.height = this.lensHeight + \"px\";\n    }\n\n    lens.style.opacity = 1;\n\n    cx = result.offsetWidth / lens.offsetWidth;\n    cy = result.offsetHeight / lens.offsetHeight;\n\n    result.style.backgroundImage = \"url('\" + this.fullImage + \"')\";\n    result.style.backgroundSize = (img.width * cx) + \"px \" + (img.height * cy) + \"px\";\n\n    lens.addEventListener(\"mousemove\", moveLens);\n    img.addEventListener(\"mousemove\", moveLens);\n    lens.addEventListener(\"touchmove\", moveLens);\n    img.addEventListener(\"touchmove\", moveLens);\n\n    function moveLens(e) {\n      var pos, x, y;\n      e.preventDefault();\n      pos = getPointerPosition(e);\n\n      x = pos.x - (lens.offsetWidth / 2);\n      y = pos.y - (lens.offsetHeight / 2);\n\n      if (x > img.width - lens.offsetWidth) { x = img.width - lens.offsetWidth; }\n      if (x < 0) { x = 0; }\n      if (y > img.height - lens.offsetHeight) { y = img.height - lens.offsetHeight; }\n      if (y < 0) { y = 0; }\n\n      lens.style.left = (x + 5) + \"px\";\n      lens.style.top = (y + 5) + \"px\";\n\n      result.style.backgroundPosition = \"-\" + (x * cx) + \"px -\" + (y * cy) + \"px\";\n    }\n    function getPointerPosition(e) {\n      var a, x = 0, y = 0;\n      e = e || window.event;\n\n      a = img.getBoundingClientRect();\n\n      x = e.pageX - a.left;\n      y = e.pageY - a.top;\n\n      x = x - window.pageXOffset;\n      y = y - window.pageYOffset;\n\n      return { x: x, y: y };\n    }\n  }\n    \n  showZoomWin(){\n    this.showZoom = true;\n  }\n  hideZoomWin(){\n    this.showZoom = false;\n    this.zoomDiv.nativeElement.style.opacity = 0;\n    this.zoomDiv.nativeElement.style.display = 'none';\n  }\n  showLensDiv()\n  {\n    this.zoomDiv.nativeElement.style.display = 'block';\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgImgMagnifierComponent } from './ng-img-magnifier.component';\nimport { CommonModule } from '@angular/common';\nimport { BrowserModule } from '@angular/platform-browser';\n\n\n\n@NgModule({\n  declarations: [\n    NgImgMagnifierComponent,\n  ],\n  imports: [\n    CommonModule,\n    BrowserModule\n  ],\n  exports: [\n    NgImgMagnifierComponent\n  ]\n})\nexport class ImgMagnifier { }\n","/*\n * Public API Surface of ng-img-magnifier\n */\n\n// export * from './lib/ng-img-magnifier.service';\nexport * from './lib/ng-img-magnifier.component';\nexport * from './lib/ng-img-magnifier.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}