{"version":3,"sources":["../../../projects/ng-img-magnifier/src/lib/ng-img-magnifier.component.ts","../../../projects/ng-img-magnifier/src/lib/ng-img-magnifier.module.ts"],"names":["NgImgMagnifierComponent","this","thumbImage","fullImage","top","right","lensWidth","lensHeight","resultWidth","resultHeight","imgWidth","imgHeight","prototype","ngOnInit","imageZoom","img","lens","result","cx","cy","moveLens","e","pos","x","y","preventDefault","a","window","event","getBoundingClientRect","pageX","left","pageY","pageXOffset","pageYOffset","getPointerPosition","offsetWidth","offsetHeight","width","height","style","backgroundPosition","showLensDiv","resultID","nativeElement","showZoom","imgID","zoomDiv","opacity","backgroundImage","backgroundSize","addEventListener","showZoomWin","hideZoomWin","display","Component","args","selector","template","Input","ViewChild","NgModule","declarations","imports","CommonModule","BrowserModule","exports"],"mappings":"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","sourcesContent":["import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'ng-img-magnifier',\n  template: `\n    <div class=\"img-zoom-container \">\n      <div class=\"outerImg \" (mouseenter)=\"showZoomWin() \" (mouseleave)=\"hideZoomWin() \">\n          <img #myimage id=\"myimage\" class=\"mainImg\" src={{thumbImage}} width={{imgWidth}} style=\"vertical-align: middle !important;\" height={{imgHeight}} (mousemove)=\"imageZoom();\">\n          <div #zoomDiv id=\"zoomDiv \" class=\"img-zoom-lens \"></div>\n      </div>\n    </div>\n    <div *ngIf=\"showZoom \">\n        <div #myresult id=\"myresult \" class=\"img-zoom-result \"></div>\n    </div>`,\n  styles: [\n    `html,\n    body {\n        height: 100%;\n    }`,\n\n    `body {\n        margin: 0;\n    }`,\n\n    `* {\n        box-sizing: border-box;\n    }`,\n\n    `.img-zoom-container {\n        position: relative;\n    }`,\n\n    `.img-zoom-lens {\n        position: absolute;\n        border: 1px solid #d4d4d4;\n        // background-image: url('./assets/zoom-image.png');\n        background-color: rgb(255, 255, 255, 0.2);\n        background-repeat: repeat;\n        background-size: contain;\n        opacity: 0;\n        cursor: zoom-in !important;\n        display: none;\n    }`,\n\n    `.img-zoom-result {\n        background-color: none;\n        background-repeat: no-repeat;\n        transition: 0.3s;\n        border-radius: 5px;\n        position: absolute;\n    }`,\n\n    `@media screen and (max-width: 800px) {\n        .img-zoom-result {\n            display: none;\n        }\n    }`,\n\n    `.show {\n        opacity: 500;\n    }`,\n\n    `.hide {\n        opacity: 0;\n    }`,\n\n    `.mainImg {\n        vertical-align: middle !important;\n    }`,\n\n    `.outerImg {\n        width: 310px;\n        height: auto;\n        padding-left: 5px;\n        padding-right: 5px;\n        padding-top: 5px;\n        padding-bottom: 5px;\n    }`,\n  ]\n})\nexport class NgImgMagnifierComponent implements OnInit {\n\n  ngOnInit(): void {\n  }\n\n  @Input() thumbImage = '';\n  @Input() fullImage = '';\n  @Input() top = '2';\n  @Input() right = '1';\n  @Input() lensWidth = '150';\n  @Input() lensHeight = '150';\n  @Input() resultWidth = '35';\n  @Input() resultHeight = '60';\n  @Input() imgWidth = '300';\n  @Input() imgHeight = '300';\n\n  constructor() {}\n\n  @ViewChild('myresult') resultID: ElementRef\n  @ViewChild('myimage') imgID: ElementRef\n  @ViewChild('zoomDiv') zoomDiv: ElementRef\n  showZoom:boolean;\n\n  imageZoom() {\n    this.showLensDiv();\n    var img, lens, result, cx, cy;\n\n    result = this.resultID.nativeElement;\n\n    result.style.top = this.top + '%';\n    result.style.right = this.right + '%';\n    result.style.width = this.resultWidth + '%';\n    result.style.height = this.resultHeight + '%';\n\n    this.showZoom = true;\n    \n    img = this.imgID.nativeElement;\n    lens = this.zoomDiv.nativeElement;\n    \n    if(img.width > (img.height*2)){\n      lens.style.width = (img.width / 3) + \"px\";\n      lens.style.height = (img.height / 1) + \"px\";\n    }\n    else if(img.height > (img.width*2)){\n      lens.style.width = (img.width / 1) + \"px\";\n      lens.style.height = (img.height / 3) + \"px\";\n    }\n    else{\n      lens.style.width = this.lensWidth + \"px\";\n      lens.style.height = this.lensHeight + \"px\";\n    }\n\n    lens.style.opacity = 1;\n\n    cx = result.offsetWidth / lens.offsetWidth;\n    cy = result.offsetHeight / lens.offsetHeight;\n\n    result.style.backgroundImage = \"url('\" + this.fullImage + \"')\";\n    result.style.backgroundSize = (img.width * cx) + \"px \" + (img.height * cy) + \"px\";\n\n    lens.addEventListener(\"mousemove\", moveLens);\n    img.addEventListener(\"mousemove\", moveLens);\n    lens.addEventListener(\"touchmove\", moveLens);\n    img.addEventListener(\"touchmove\", moveLens);\n\n    function moveLens(e) {\n      var pos, x, y;\n      e.preventDefault();\n      pos = getPointerPosition(e);\n\n      x = pos.x - (lens.offsetWidth / 2);\n      y = pos.y - (lens.offsetHeight / 2);\n\n      if (x > img.width - lens.offsetWidth) { x = img.width - lens.offsetWidth; }\n      if (x < 0) { x = 0; }\n      if (y > img.height - lens.offsetHeight) { y = img.height - lens.offsetHeight; }\n      if (y < 0) { y = 0; }\n\n      lens.style.left = (x + 5) + \"px\";\n      lens.style.top = (y + 5) + \"px\";\n\n      result.style.backgroundPosition = \"-\" + (x * cx) + \"px -\" + (y * cy) + \"px\";\n    }\n    function getPointerPosition(e) {\n      var a, x = 0, y = 0;\n      e = e || window.event;\n\n      a = img.getBoundingClientRect();\n\n      x = e.pageX - a.left;\n      y = e.pageY - a.top;\n\n      x = x - window.pageXOffset;\n      y = y - window.pageYOffset;\n\n      return { x: x, y: y };\n    }\n  }\n    \n  showZoomWin(){\n    this.showZoom = true;\n  }\n  hideZoomWin(){\n    this.showZoom = false;\n    this.zoomDiv.nativeElement.style.opacity = 0;\n    this.zoomDiv.nativeElement.style.display = 'none';\n  }\n  showLensDiv()\n  {\n    this.zoomDiv.nativeElement.style.display = 'block';\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgImgMagnifierComponent } from './ng-img-magnifier.component';\nimport { CommonModule } from '@angular/common';\nimport { BrowserModule } from '@angular/platform-browser';\n\n\n\n@NgModule({\n  declarations: [\n    NgImgMagnifierComponent,\n  ],\n  imports: [\n    CommonModule,\n    BrowserModule\n  ],\n  exports: [\n    NgImgMagnifierComponent\n  ]\n})\nexport class ImgMagnifier { }\n"]}