<app-site-header></app-site-header>
<!-- <div class="breadcrumb">
	<ul>
		<li><a routerLinkActive="true" routerLink="/publisher/publisher-dashboard">Home</a></li>
		<li>&gt;</li>
		<li>Notifications</li>
	</ul>
</div> -->

<div class="bodyContainer">
	<div class="wrapperCustome">
       <app-site-side-bar></app-site-side-bar>
       <div class="col-sm-9 float-left">
        

        <div class="rightNotification">

            <!-- <h1>Notifications</h1> -->

            <!-- <div class="book_loadMain" *ngIf="loader">

                <div class="loader loader-1">
                    <div class="loader-outter"></div>
                    <div class="loader-inner"></div>
                  </div>
           </div> -->
             
             <!-- <mat-form-field >
                 <mat-label>Search</mat-label>
                 <input matInput (keyup)="applyFilter($event)" placeholder="Search Notifications" #input >
               </mat-form-field> -->

             
             
               <!-- <div class="mat-elevation-z8" >
                 <table mat-table [dataSource]="dataSource" matSort>
                  <ng-container matColumnDef="Image">
                    <th mat-header-cell *matHeaderCellDef [hidden]="true"></th>
                    <td mat-cell *matCellDef="let row" style="text-align:center;width: 20px;padding-top: 22px;">
                      
                               <div *ngIf="row.subject=='BookUpload'" class="Table_profilePic">
                                <img src="{{row.from_user_image}}" class="" alt="Cinque Terre" > 
                               </div>
    
                  </ng-container>


                   <ng-container matColumnDef="Notification">
                     <th mat-header-cell *matHeaderCellDef [hidden]="true"></th>
                     <td mat-cell *matCellDef="let row" style="text-align:left;word-spacing: 0px;font-size: 17px; padding-left: 20px;">
                        <div *ngIf="row.subject=='BookUpload'; then ifblock"></div>
                        <ng-template #ifblock>
                             <td>
                                <div class="P_Tag">
                                  <p *ngIf="row.body=='Reject'">{{msg}} rejected {{row.book_name}}. <span [hidden]="row.reject_msg==undefined || row.reject_msg==''" class="text-danger">(Reason: {{row.reject_msg}}) </span> </p>
                                  <p *ngIf="row.body=='Approved'">{{msg}} approved {{row.book_name}}.</p>
                                </div>
                            </td>
                                
                    
                        </ng-template>
                    </td>
                   </ng-container>
                  

                  
               
             
                   <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                   <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
               
                   <tr class="mat-row" *matNoDataRow [hidden]="row">
                     <td class="mat-cell" colspan="4">No data</td>
                   </tr>
                 </table>
               
                 <mat-paginator [pageSizeOptions]="[20,40, 80, 100]" showFirstLastButtons ></mat-paginator>
               </div> -->
             
             
             
             
         
               <div class="mainnotificationdiv" *ngIf="userDataFilter.message.length > 0">
                <div *ngFor="let row of userDataFilter.message;let i=index">
                
            
                  <mat-card class="matCard" *ngIf="row.subject=='BookUpload'">
                         
                          <mat-card-header>
            
                            <mat-card-title> 
                            <h2 class="matcardtitleh2">
                              <a *ngIf="row.body=='Approved'"><i class="fa fa-check" aria-hidden="true"></i></a>
                              <a *ngIf="row.body=='Reject'"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></a>

                               Approval status
                              <a class="float-right matIcon"  (click)="clear_all_notification('O',row._id)"><mat-icon>close</mat-icon></a> 
                              <a class="float-right matIcon rotate" (click)="expandMore(i)" id="expand_more_{{i}}"><mat-icon>expand_more</mat-icon></a>
                              <!-- <a class="float-right matIcon" (click)="expandMore(i)" id="expand_less_{{i}}" style="display:none"><mat-icon>expand_less</mat-icon></a> -->

                              <span style="display:none" id="date_{{i}}" class="customnotificationspan">{{row.date | date:'dd-MM-yyyy h:mma'}}</span>
                            </h2>
                            <p class="customcardtext" id="Date_{{i}}">{{row.date | date:'dd-MM-yyyy h:mma'}}</p>
                        </mat-card-title>
                         </mat-card-header>
            
                            <mat-card-content style="display:none"  id="matcard{{i}}">     
                                <h4 class="matcardcontenth4" *ngIf="row.body=='Reject'">{{msg}} rejected {{row.book_name}}. <span [hidden]="row.reject_msg==undefined || row.reject_msg==''" class="text-danger">(Reason: {{row.reject_msg}}) </span> </h4>
                                <h4 class="matcardcontenth4" *ngIf="row.body=='Approved'">{{msg}} approved {{row.book_name}}.</h4>
                            </mat-card-content>
                  </mat-card>
                </div>
                </div>


               <div class="row mb-2 mt-2" *ngIf="userDataFilter.message.length  > 0">
                <div class="col-2">
                </div>
                <div class="col-6"></div>
                <div class="col-4">
                 <div class="deleteNotification">
                   <span (click)="clear_all_notification('A','')">Clear all notification</span>
            
                 </div>
                </div>
              </div>
               <div class="row" *ngIf="userDataFilter.message.length  == 0" class="mt-5">
                 <div class="col-12 text-center">
                   <img src="/assets/images/trnnonotification.png" class="img-fluid" style="height:160px"/>
                        <h2 class="text-muted">no new notification</h2>
                 </div>
               </div>
            
            </div>

    </div>

</div>
<br clear="all">
</div>
<app-site-footer></app-site-footer>
